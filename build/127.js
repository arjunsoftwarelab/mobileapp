webpackJsonp([127],{2069:function(n,l,e){"use strict";function View_AddonModChatSessionMessagesPage_2(n){return t._58(0,[(n()(),t._32(0,0,null,null,2,"h6",[["class","addon-messages-date"],["text-center",""]],null,null,null,null,null)),(n()(),t._56(1,null,["\n                    ","\n                "])),t._50(2,2)],null,function(n,l){n(l,1,0,t._57(l,1,0,n(l,2,0,t._45(l.parent.parent,0),1e3*l.parent.context.$implicit.timestamp,"strftimedayshort")))})}function View_AddonModChatSessionMessagesPage_4(n){return t._58(0,[(n()(),t._32(0,0,null,null,10,"ion-badge",[["color","success"],["text-wrap",""]],null,null,null,null,null)),t._31(1,16384,null,0,E.a,[F.a,t.t,t.W],{color:[0,"color"]},null),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._32(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._32(4,0,null,null,1,"core-icon",[["name","fa-sign-in"]],null,null,null,N.b,N.a)),t._31(5,704512,null,0,T.a,[t.t,F.a],{name:[0,"name"]},null),(n()(),t._56(6,null,[" "," ",""])),t._50(7,2),t._49(8,{$a:0}),t._48(131072,H.a,[J.a,t.j]),(n()(),t._56(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"success");n(l,5,0,"fa-sign-in")},function(n,l){n(l,6,0,t._57(l,6,0,n(l,7,0,t._45(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._57(l,6,1,t._45(l,9).transform("addon.mod_chat.messageenter",n(l,8,0,l.parent.parent.context.$implicit.userfullname))))})}function View_AddonModChatSessionMessagesPage_5(n){return t._58(0,[(n()(),t._32(0,0,null,null,10,"ion-badge",[["color","danger"],["text-wrap",""]],null,null,null,null,null)),t._31(1,16384,null,0,E.a,[F.a,t.t,t.W],{color:[0,"color"]},null),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._32(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._32(4,0,null,null,1,"core-icon",[["name","fa-sign-out"]],null,null,null,N.b,N.a)),t._31(5,704512,null,0,T.a,[t.t,F.a],{name:[0,"name"]},null),(n()(),t._56(6,null,[" "," ",""])),t._50(7,2),t._49(8,{$a:0}),t._48(131072,H.a,[J.a,t.j]),(n()(),t._56(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"danger");n(l,5,0,"fa-sign-out")},function(n,l){n(l,6,0,t._57(l,6,0,n(l,7,0,t._45(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._57(l,6,1,t._45(l,9).transform("addon.mod_chat.messageexit",n(l,8,0,l.parent.parent.context.$implicit.userfullname))))})}function View_AddonModChatSessionMessagesPage_6(n){return t._58(0,[(n()(),t._32(0,0,null,null,10,"ion-badge",[["color","primary"],["text-wrap",""]],null,null,null,null,null)),t._31(1,16384,null,0,E.a,[F.a,t.t,t.W],{color:[0,"color"]},null),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._32(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._32(4,0,null,null,1,"ion-icon",[["name","notifications"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._31(5,147456,null,0,G.a,[F.a,t.t,t.W],{name:[0,"name"]},null),(n()(),t._56(6,null,[" ","\n                        "," "])),t._50(7,2),t._49(8,{$a:0}),t._48(131072,H.a,[J.a,t.j]),(n()(),t._56(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"primary");n(l,5,0,"notifications")},function(n,l){n(l,4,0,t._45(l,5)._hidden);n(l,6,0,t._57(l,6,0,n(l,7,0,t._45(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._57(l,6,1,t._45(l,9).transform("addon.mod_chat.messagebeepseveryone",n(l,8,0,l.parent.parent.context.$implicit.userfullname))))})}function View_AddonModChatSessionMessagesPage_7(n){return t._58(0,[(n()(),t._32(0,0,null,null,10,"ion-badge",[["color","primary"],["text-wrap",""]],null,null,null,null,null)),t._31(1,16384,null,0,E.a,[F.a,t.t,t.W],{color:[0,"color"]},null),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._32(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._32(4,0,null,null,1,"ion-icon",[["name","notifications"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._31(5,147456,null,0,G.a,[F.a,t.t,t.W],{name:[0,"name"]},null),(n()(),t._56(6,null,[" ","\n                        "," "])),t._50(7,2),t._49(8,{$a:0}),t._48(131072,H.a,[J.a,t.j]),(n()(),t._56(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"primary");n(l,5,0,"notifications")},function(n,l){n(l,4,0,t._45(l,5)._hidden);n(l,6,0,t._57(l,6,0,n(l,7,0,t._45(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._57(l,6,1,t._45(l,9).transform("addon.mod_chat.messagebeepsyou",n(l,8,0,l.parent.parent.context.$implicit.userfullname))))})}function View_AddonModChatSessionMessagesPage_8(n){return t._58(0,[(n()(),t._32(0,0,null,null,10,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),t._31(1,16384,null,0,E.a,[F.a,t.t,t.W],{color:[0,"color"]},null),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._32(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._32(4,0,null,null,1,"ion-icon",[["name","notifications"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._31(5,147456,null,0,G.a,[F.a,t.t,t.W],{name:[0,"name"]},null),(n()(),t._56(6,null,[" ","\n                        "," "])),t._50(7,2),t._49(8,{$a:0}),t._48(131072,H.a,[J.a,t.j]),(n()(),t._56(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"light");n(l,5,0,"notifications")},function(n,l){n(l,4,0,t._45(l,5)._hidden);n(l,6,0,t._57(l,6,0,n(l,7,0,t._45(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._57(l,6,1,t._45(l,9).transform("addon.mod_chat.messageyoubeep",n(l,8,0,l.parent.parent.context.$implicit.beepWho))))})}function View_AddonModChatSessionMessagesPage_9(n){return t._58(0,[(n()(),t._32(0,0,null,null,12,"ion-badge",[["color","info"],["text-wrap",""]],null,null,null,null,null)),t._31(1,16384,null,0,E.a,[F.a,t.t,t.W],{color:[0,"color"]},null),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._32(3,0,null,null,8,"span",[],null,null,null,null,null)),(n()(),t._32(4,0,null,null,1,"core-icon",[["name","fa-asterisk"]],null,null,null,N.b,N.a)),t._31(5,704512,null,0,T.a,[t.t,F.a],{name:[0,"name"]},null),(n()(),t._56(6,null,[" ","\n                            "])),t._50(7,2),(n()(),t._32(8,0,null,null,3,"strong",[],null,null,null,null,null)),(n()(),t._56(9,null,[""," "])),(n()(),t._32(10,16777216,null,null,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),t._31(11,540672,null,0,q.a,[t.t,c.b,_.b,z.b,J.a,B.a,K.b,Q.b,X.b,Y.b,Z.b,[2,nn.a],[2,ln.a],[2,en.a],tn.a,an.b,un.a,sn.a,on.a,t._12,rn.b],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],courseId:[3,"courseId"]},null),(n()(),t._56(-1,null,["\n                    "]))],function(n,l){var e=l.component;n(l,1,0,"info");n(l,5,0,"fa-asterisk");n(l,11,0,l.parent.parent.context.$implicit.message,"module",e.cmId,e.courseId)},function(n,l){n(l,6,0,t._57(l,6,0,n(l,7,0,t._45(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")));n(l,9,0,l.parent.parent.context.$implicit.userfullname)})}function View_AddonModChatSessionMessagesPage_3(n){return t._58(0,[(n()(),t._32(0,0,null,null,19,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_4)),t._31(3,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_5)),t._31(6,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_6)),t._31(9,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_7)),t._31(12,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_8)),t._31(15,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_9)),t._31(18,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                "]))],function(n,l){var e=l.component;n(l,3,0,l.parent.context.$implicit.issystem&&"enter"==l.parent.context.$implicit.message);n(l,6,0,l.parent.context.$implicit.issystem&&"exit"==l.parent.context.$implicit.message);n(l,9,0,"all"==l.parent.context.$implicit.beep);n(l,12,0,l.parent.context.$implicit.userid!=e.currentUserId&&l.parent.context.$implicit.beep==e.currentUserId);n(l,15,0,l.parent.context.$implicit.userid==e.currentUserId&&l.parent.context.$implicit.beep&&"all"!=l.parent.context.$implicit.beep);n(l,18,0,!l.parent.context.$implicit.issystem&&!l.parent.context.$implicit.beep)},null)}function View_AddonModChatSessionMessagesPage_11(n){return t._58(0,[(n()(),t._32(0,0,null,null,2,"ion-avatar",[["core-user-avatar",""],["item-start",""]],null,null,null,cn.b,cn.a)),t._31(1,770048,null,0,dn.a,[nn.a,c.b,K.b,pn.b,an.b,[2,en.a]],{user:[0,"user"],linkProfile:[1,"linkProfile"]},null),t._31(2,16384,null,0,gn.a,[],null,null)],function(n,l){n(l,1,0,l.parent.parent.context.$implicit,!1)},null)}function View_AddonModChatSessionMessagesPage_12(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t._56(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.parent.context.$implicit.userfullname)})}function View_AddonModChatSessionMessagesPage_13(n){return t._58(0,[(n()(),t._32(0,0,null,null,0,"div",[["class","tail"]],null,null,null,null,null))],null,null)}function View_AddonModChatSessionMessagesPage_10(n){return t._58(0,[(n()(),t._32(0,0,null,null,30,"ion-item",[["class","addon-message item item-block"],["text-wrap",""]],[[2,"addon-message-mine",null],[2,"addon-message-not-mine",null],[2,"addon-message-no-user",null]],null,null,mn.b,mn.a)),t._31(1,1097728,null,3,fn.a,[hn.a,F.a,t.t,t.W,[2,bn.a]],null,null),t._53(335544320,1,{contentLabel:0}),t._53(603979776,2,{_buttons:1}),t._53(603979776,3,{_icons:1}),t._31(5,16384,null,0,Mn.a,[],null,null),(n()(),t._56(-1,2,["\n                    "])),(n()(),t._56(-1,2,["\n                    "])),(n()(),t._32(8,0,null,2,12,"h2",[["class","addon-message-user"]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_11)),t._31(11,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_12)),t._31(14,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._32(16,0,null,null,3,"ion-note",[],null,null,null,null,null)),t._31(17,16384,null,0,xn.a,[F.a,t.t,t.W],null,null),(n()(),t._56(18,null,["",""])),t._50(19,2),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._56(-1,2,["\n\n                    "])),(n()(),t._32(22,0,null,2,4,"p",[["class","addon-message-text"]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._32(24,16777216,null,null,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),t._31(25,540672,null,0,q.a,[t.t,c.b,_.b,z.b,J.a,B.a,K.b,Q.b,X.b,Y.b,Z.b,[2,nn.a],[2,ln.a],[2,en.a],tn.a,an.b,un.a,sn.a,on.a,t._12,rn.b],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],courseId:[3,"courseId"]},null),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._56(-1,2,["\n                    "])),(n()(),t._27(16777216,null,2,1,null,View_AddonModChatSessionMessagesPage_13)),t._31(29,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,2,["\n                "]))],function(n,l){var e=l.component;n(l,11,0,l.parent.context.$implicit.showUserData);n(l,14,0,l.parent.context.$implicit.showUserData);n(l,25,0,l.parent.context.$implicit.message,"module",e.cmId,e.courseId);n(l,29,0,l.parent.context.$implicit.showTail)},function(n,l){var e=l.component;n(l,0,0,l.parent.context.$implicit.userid==e.currentUserId,l.parent.context.$implicit.userid!=e.currentUserId,!l.parent.context.$implicit.showUserData);n(l,18,0,t._57(l,18,0,n(l,19,0,t._45(l.parent.parent,0),1e3*l.parent.context.$implicit.timestamp,"strftimetime")))})}function View_AddonModChatSessionMessagesPage_1(n){return t._58(0,[(n()(),t._32(0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),t._56(-1,null,["\n                "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_2)),t._31(3,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n\n                "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_3)),t._31(6,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n\n                "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_10)),t._31(9,16384,null,0,_n.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n            "]))],function(n,l){n(l,3,0,l.context.$implicit.showDate);n(l,6,0,l.context.$implicit.special);n(l,9,0,!l.context.$implicit.special)},null)}function View_AddonModChatSessionMessagesPage_0(n){return t._58(0,[t._48(0,In.a,[X.b,Pn.b]),(n()(),t._32(1,0,null,null,12,"ion-header",[],null,null,null,null,null)),t._31(2,16384,null,0,wn.a,[F.a,t.t,t.W,[2,Sn.a]],null,null),(n()(),t._56(-1,null,["\n    "])),(n()(),t._32(4,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,vn.b,vn.a)),t._31(5,49152,null,0,$n.a,[Cn.a,[2,Sn.a],[2,nn.a],F.a,t.t,t.W],null,null),t._31(6,212992,null,0,An.a,[$n.a,J.a,an.b],null,null),(n()(),t._56(-1,3,["\n        "])),(n()(),t._32(8,0,null,3,3,"ion-title",[],null,null,null,yn.b,yn.a)),t._31(9,49152,null,0,Vn.a,[F.a,t.t,t.W,[2,Un.a],[2,$n.a]],null,null),(n()(),t._56(10,0,["",""])),t._48(131072,H.a,[J.a,t.j]),(n()(),t._56(-1,3,["\n    "])),(n()(),t._56(-1,null,["\n"])),(n()(),t._56(-1,null,["\n"])),(n()(),t._32(15,0,null,null,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,kn.b,kn.a)),t._31(16,4374528,null,0,ln.a,[F.a,B.a,jn.a,t.t,t.W,Cn.a,Wn.a,t.N,[2,Sn.a],[2,nn.a]],null,null),(n()(),t._56(-1,1,["\n    "])),(n()(),t._32(18,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var t=!0;if("ionRefresh"===l){t=!1!==n.component.refreshMessages(e)&&t}return t},null,null)),t._31(19,212992,null,0,Rn.a,[B.a,ln.a,t.N,On.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),t._56(-1,null,["\n        "])),(n()(),t._32(21,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Dn.b,Dn.a)),t._31(22,114688,null,0,Ln.a,[Rn.a,F.a],{pullingText:[0,"pullingText"]},null),t._48(131072,H.a,[J.a,t.j]),(n()(),t._56(-1,null,["\n    "])),(n()(),t._56(-1,1,["\n    "])),(n()(),t._32(26,0,null,1,9,"core-loading",[],null,null,null,En.b,En.a)),t._31(27,638976,null,0,Fn.a,[J.a,t.t,an.b,K.b],{hideUntil:[0,"hideUntil"]},null),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(29,0,null,0,5,"ion-list",[["aria-live","polite"],["class","addon-messages-discussion-container safe-area-page"]],null,null,null,null,null)),t._31(30,16384,null,0,Nn.a,[F.a,t.t,t.W,B.a,On.l,jn.a],null,null),(n()(),t._56(-1,null,["\n            "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_1)),t._31(33,802816,null,0,_n.j,[t._12,t._7,t.E],{ngForOf:[0,"ngForOf"]},null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._56(-1,0,["\n    "])),(n()(),t._56(-1,1,["\n"])),(n()(),t._56(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,6,0);n(l,19,0,e.loaded);n(l,22,0,t._35(1,"",t._57(l,22,0,t._45(l,23).transform("core.pulltorefresh")),""));n(l,27,0,e.loaded);n(l,33,0,e.messages)},function(n,l){n(l,4,0,t._45(l,5)._hidden,t._45(l,5)._sbPadding);n(l,10,0,t._57(l,10,0,t._45(l,11).transform("addon.mod_chat.messages")));n(l,15,0,t._45(l,16).statusbarPadding,t._45(l,16)._hasRefresher);n(l,18,0,"inactive"!==t._45(l,19).state,t._45(l,19)._top);n(l,21,0,t._45(l,22).r.state)})}Object.defineProperty(l,"__esModule",{value:!0});var t=e(0),a=e(5),u=e(3),s=e(26),o=e(32),i=e(111),r=e(752),_=e(4),c=e(1),d=e(46),p=e(287),g=e(756),m=this&&this.__decorate||function(n,l,e,t){var a,u=arguments.length,s=u<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,l,e,t);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(s=(u<3?a(s):u>3?a(l,e,s):a(l,e))||s);return u>3&&s&&Object.defineProperty(l,e,s),s},f=this&&this.__metadata||function(n,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,l)},h=function(){function AddonModChatSessionMessagesPage(n,l,e,t,a,u){this.domUtils=l,this.chatProvider=e,this.chatHelper=a,this.userProvider=u,this.messages=[],this.loaded=!1,this.courseId=n.get("courseId"),this.chatId=n.get("chatId"),this.groupId=n.get("groupId"),this.sessionStart=n.get("sessionStart"),this.sessionEnd=n.get("sessionEnd"),this.cmId=n.get("cmId"),this.currentUserId=t.getCurrentSiteUserId(),this.fetchMessages()}return AddonModChatSessionMessagesPage.prototype.fetchMessages=function(){var n=this;return this.chatProvider.getSessionMessages(this.chatId,this.sessionStart,this.sessionEnd,this.groupId,{cmId:this.cmId}).then(function(l){return n.chatProvider.getMessagesUserData(l,n.courseId).then(function(l){if(n.messages=l,l.length){for(var e=function(l){var e=n.messages[l];n.chatHelper.formatMessage(n.currentUserId,e,l>0?n.messages[l-1]:null),e.beep&&e.beep!=n.currentUserId+""&&n.getUserFullname(e.beep).then(function(n){e.beepWho=n})},t=0;t<n.messages.length;t++)e(t);n.messages[n.messages.length-1].showTail=!0}})}).catch(function(l){n.domUtils.showErrorModalDefault(l,"core.errorloadingcontent",!0)}).finally(function(){n.loaded=!0})},AddonModChatSessionMessagesPage.prototype.getUserFullname=function(n){return isNaN(parseInt(n,10))?Promise.resolve(n):this.userProvider.getProfile(parseInt(n,10),this.courseId,!0).then(function(n){return n.fullname}).catch(function(){return n})},AddonModChatSessionMessagesPage.prototype.refreshMessages=function(n){var l=this;this.chatProvider.invalidateSessionMessages(this.chatId,this.sessionStart,this.groupId).finally(function(){l.fetchMessages().finally(function(){n.complete()})})},AddonModChatSessionMessagesPage=m([Object(t.m)({selector:"page-addon-mod-chat-session-messages",templateUrl:"session-messages.html"}),f("design:paramtypes",[a.t,_.b,p.a,c.b,g.a,d.b])],AddonModChatSessionMessagesPage)}(),b=this&&this.__decorate||function(n,l,e,t){var a,u=arguments.length,s=u<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,l,e,t);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(s=(u<3?a(s):u>3?a(l,e,s):a(l,e))||s);return u>3&&s&&Object.defineProperty(l,e,s),s},M=function(){function AddonModChatSessionMessagesPageModule(){}return AddonModChatSessionMessagesPageModule=b([Object(t.J)({declarations:[h],imports:[s.a,o.a,i.a,r.a,a.l.forChild(h),u.b.forChild()]})],AddonModChatSessionMessagesPageModule)}(),x=e(1551),I=e(1552),P=e(1553),w=e(1554),S=e(1555),v=e(1556),$=e(1557),C=e(1558),A=e(1559),y=e(1560),V=e(1561),U=e(1562),k=e(1563),j=e(1566),W=e(1567),R=e(1564),O=e(1565),D=e(1568),L=e(1587),E=e(144),F=e(8),N=e(85),T=e(78),H=e(25),J=e(18),G=e(48),q=e(49),z=e(10),B=e(16),K=e(2),Q=e(19),X=e(6),Y=e(17),Z=e(14),nn=e(20),ln=e(28),en=e(29),tn=e(42),an=e(9),un=e(43),sn=e(30),on=e(36),rn=e(40),_n=e(7),cn=e(218),dn=e(186),pn=e(12),gn=e(164),mn=e(31),fn=e(22),hn=e(21),bn=e(27),Mn=e(33),xn=e(253),In=e(231),Pn=e(24),wn=e(379),Sn=e(41),vn=e(739),$n=e(216),Cn=e(35),An=e(486),yn=e(740),Vn=e(324),Un=e(252),kn=e(185),jn=e(34),Wn=e(112),Rn=e(163),On=e(45),Dn=e(217),Ln=e(178),En=e(57),Fn=e(54),Nn=e(87),Tn=e(73),Hn=t._30({encapsulation:2,styles:[],data:{}}),Jn=t._28("page-addon-mod-chat-session-messages",h,function View_AddonModChatSessionMessagesPage_Host_0(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"page-addon-mod-chat-session-messages",[],null,null,null,View_AddonModChatSessionMessagesPage_0,Hn)),t._31(1,49152,null,0,h,[Tn.a,_.b,p.a,c.b,g.a,d.b],null,null)],null,null)},{},{},[]),Gn=e(23),qn=e(375),zn=e(376),Bn=e(378),Kn=e(377),Qn=e(485),Xn=e(738),Yn=e(278),Zn=e(74),nl=e(277);e.d(l,"AddonModChatSessionMessagesPageModuleNgFactory",function(){return ll});var ll=t._29(M,[],function(n){return t._41([t._42(512,t.o,t._22,[[8,[x.a,I.a,P.a,w.a,S.a,v.a,$.a,C.a,A.a,y.a,V.a,U.a,k.a,j.a,W.a,R.a,O.a,D.a,L.a,Jn]],[3,t.o],t.L]),t._42(4608,_n.m,_n.l,[t.G,[2,_n.w]]),t._42(4608,Gn.x,Gn.x,[]),t._42(4608,Gn.d,Gn.d,[]),t._42(4608,qn.b,qn.a,[]),t._42(4608,zn.a,zn.b,[]),t._42(4608,Bn.b,Bn.a,[]),t._42(4608,Kn.b,Kn.a,[]),t._42(4608,J.a,J.a,[Qn.a,qn.b,zn.a,Bn.b,Kn.b,J.b,J.c]),t._42(512,_n.b,_n.b,[]),t._42(512,Gn.v,Gn.v,[]),t._42(512,Gn.i,Gn.i,[]),t._42(512,Gn.s,Gn.s,[]),t._42(512,Xn.a,Xn.a,[]),t._42(512,u.b,u.b,[]),t._42(512,o.a,o.a,[]),t._42(512,i.a,i.a,[]),t._42(512,s.a,s.a,[]),t._42(512,Yn.a,Yn.a,[]),t._42(512,Zn.a,Zn.a,[]),t._42(512,r.a,r.a,[]),t._42(512,Xn.b,Xn.b,[]),t._42(512,M,M,[]),t._42(256,J.c,void 0,[]),t._42(256,J.b,void 0,[]),t._42(256,nl.a,h,[])])})}});