webpackJsonp([142],{2013:function(e,n,t){"use strict";function View_AddonCompetencyCompetenciesPage_2(e){return l._58(0,[(e()(),l._32(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),l._31(1,16384,null,0,O.a,[$.a,l.t,l.W],{color:[0,"color"]},null),(e()(),l._56(2,null,["",""]))],function(e,n){e(n,1,0,n.parent.context.$implicit.usercompetency.proficiency?"success":"danger")},function(e,n){e(n,2,0,n.parent.context.$implicit.usercompetency.gradename)})}function View_AddonCompetencyCompetenciesPage_3(e){return l._58(0,[(e()(),l._32(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),l._31(1,16384,null,0,O.a,[$.a,l.t,l.W],{color:[0,"color"]},null),(e()(),l._56(2,null,["",""]))],function(e,n){e(n,1,0,n.parent.context.$implicit.usercompetencycourse.proficiency?"success":"danger")},function(e,n){e(n,2,0,n.parent.context.$implicit.usercompetencycourse.gradename)})}function View_AddonCompetencyCompetenciesPage_1(e){return l._58(0,[(e()(),l._32(0,0,null,null,17,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(e,n,t){var l=!0;if("click"===n){l=!1!==e.component.openCompetency(e.context.$implicit.competency.id)&&l}return l},V.b,V.a)),l._31(1,1097728,null,3,L.a,[W.a,$.a,l.t,l.W,[2,k.a]],null,null),l._53(335544320,2,{contentLabel:0}),l._53(603979776,3,{_buttons:1}),l._53(603979776,4,{_icons:1}),l._31(5,16384,null,0,M.a,[],null,null),(e()(),l._56(-1,2,["\n                    "])),(e()(),l._32(7,0,null,2,3,"h2",[],null,null,null,null,null)),(e()(),l._56(8,null,[""," "])),(e()(),l._32(9,0,null,null,1,"em",[],null,null,null,null,null)),(e()(),l._56(10,null,["",""])),(e()(),l._56(-1,2,["\n                    "])),(e()(),l._27(16777216,null,4,1,null,View_AddonCompetencyCompetenciesPage_2)),l._31(13,16384,null,0,U.k,[l._12,l._7],{ngIf:[0,"ngIf"]},null),(e()(),l._56(-1,2,["\n                    "])),(e()(),l._27(16777216,null,4,1,null,View_AddonCompetencyCompetenciesPage_3)),l._31(16,16384,null,0,U.k,[l._12,l._7],{ngIf:[0,"ngIf"]},null),(e()(),l._56(-1,2,["\n                "]))],function(e,n){e(n,13,0,n.context.$implicit.usercompetency);e(n,16,0,n.context.$implicit.usercompetencycourse)},function(e,n){e(n,0,0,n.context.$implicit.competency.shortname,n.context.$implicit.competency.id==n.component.competencyId);e(n,8,0,n.context.$implicit.competency.shortname);e(n,10,0,n.context.$implicit.competency.idnumber)})}function View_AddonCompetencyCompetenciesPage_0(e){return l._58(0,[l._53(402653184,1,{splitviewCtrl:0}),(e()(),l._32(1,0,null,null,11,"ion-header",[],null,null,null,null,null)),l._31(2,16384,null,0,D.a,[$.a,l.t,l.W,[2,E.a]],null,null),(e()(),l._56(-1,null,["\n    "])),(e()(),l._32(4,0,null,null,7,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,F.b,F.a)),l._31(5,49152,null,0,N.a,[J.a,[2,E.a],[2,T.a],$.a,l.t,l.W],null,null),l._31(6,212992,null,0,G.a,[N.a,H.a,q.b],null,null),(e()(),l._56(-1,3,["\n        "])),(e()(),l._32(8,0,null,3,2,"ion-title",[],null,null,null,z.b,z.a)),l._31(9,49152,null,0,B.a,[$.a,l.t,l.W,[2,K.a],[2,N.a]],null,null),(e()(),l._56(10,0,["",""])),(e()(),l._56(-1,3,["\n    "])),(e()(),l._56(-1,null,["\n"])),(e()(),l._56(-1,null,["\n"])),(e()(),l._32(14,0,null,null,25,"core-split-view",[],null,null,null,Q.b,Q.a)),l._31(15,245760,[[1,4]],0,r.a,[[2,T.a],l.t,S.b,X.a,H.a],null,null),(e()(),l._56(-1,0,["\n    "])),(e()(),l._32(17,0,null,0,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Y.b,Y.a)),l._31(18,4374528,null,0,Z.a,[$.a,X.a,ee.a,l.t,l.W,J.a,ne.a,l.N,[2,E.a],[2,T.a]],null,null),(e()(),l._56(-1,1,["\n        "])),(e()(),l._32(20,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(e,n,t){var l=!0;if("ionRefresh"===n){l=!1!==e.component.refreshCompetencies(t)&&l}return l},null,null)),l._31(21,212992,null,0,te.a,[X.a,Z.a,l.N,le.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(e()(),l._56(-1,null,["\n            "])),(e()(),l._32(23,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,oe.b,oe.a)),l._31(24,114688,null,0,ce.a,[te.a,$.a],{pullingText:[0,"pullingText"]},null),l._48(131072,ie.a,[H.a,l.j]),(e()(),l._56(-1,null,["\n        "])),(e()(),l._56(-1,1,["\n        "])),(e()(),l._32(28,0,null,1,9,"core-loading",[],null,null,null,ue.b,ue.a)),l._31(29,638976,null,0,ae.a,[H.a,l.t,q.b,re.b],{hideUntil:[0,"hideUntil"]},null),(e()(),l._56(-1,0,["\n            "])),(e()(),l._32(31,0,null,0,5,"ion-list",[],null,null,null,null,null)),l._31(32,16384,null,0,se.a,[$.a,l.t,l.W,X.a,le.l,ee.a],null,null),(e()(),l._56(-1,null,["\n                "])),(e()(),l._27(16777216,null,null,1,null,View_AddonCompetencyCompetenciesPage_1)),l._31(35,802816,null,0,U.j,[l._12,l._7,l.E],{ngForOf:[0,"ngForOf"]},null),(e()(),l._56(-1,null,["\n            "])),(e()(),l._56(-1,0,["\n        "])),(e()(),l._56(-1,1,["\n    "])),(e()(),l._56(-1,0,["\n"]))],function(e,n){var t=n.component;e(n,6,0),e(n,15,0);e(n,21,0,t.competenciesLoaded);e(n,24,0,l._35(1,"",l._57(n,24,0,l._45(n,25).transform("core.pulltorefresh")),""));e(n,29,0,t.competenciesLoaded);e(n,35,0,t.competencies)},function(e,n){var t=n.component;e(n,4,0,l._45(n,5)._hidden,l._45(n,5)._sbPadding);e(n,10,0,t.title);e(n,17,0,l._45(n,18).statusbarPadding,l._45(n,18)._hasRefresher);e(n,20,0,"inactive"!==l._45(n,21).state,l._45(n,21)._top);e(n,23,0,l._45(n,24).r.state)})}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),o=t(5),c=t(3),i=t(26),u=t(32),a=t(4),r=t(29),s=t(169),p=this&&this.__decorate||function(e,n,t,l){var o,c=arguments.length,i=c<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,l);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(c<3?o(i):c>3?o(n,t,i):o(n,t))||i);return c>3&&i&&Object.defineProperty(n,t,i),i},d=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},_=function(){function AddonCompetencyCompetenciesPage(e,n,t,l){this.translate=n,this.domUtils=t,this.competencyProvider=l,this.competenciesLoaded=!1,this.competencies=[],this.planId=e.get("planId"),this.courseId=e.get("courseId"),this.competencyId=e.get("competencyId"),this.userId=e.get("userId")}return AddonCompetencyCompetenciesPage.prototype.ionViewDidLoad=function(){var e=this;this.competencyId&&this.openCompetency(this.competencyId),this.fetchCompetencies().then(function(){!e.competencyId&&e.splitviewCtrl.isOn()&&e.competencies.length>0&&e.openCompetency(e.competencies[0].competency.id)}).finally(function(){e.competenciesLoaded=!0})},AddonCompetencyCompetenciesPage.prototype.fetchCompetencies=function(){var e=this;return(this.planId?this.competencyProvider.getLearningPlan(this.planId):this.courseId?this.competencyProvider.getCourseCompetencies(this.courseId,this.userId):Promise.reject(null)).then(function(n){if(e.planId){var t=n;if(t.competencycount<=0)return Promise.reject(e.translate.instant("addon.competency.errornocompetenciesfound"));e.title=t.plan.name,e.userId=t.plan.userid}else e.title=e.translate.instant("addon.competency.coursecompetencies");e.competencies=n.competencies}).catch(function(n){e.domUtils.showErrorModalDefault(n,"Error getting competencies data.")})},AddonCompetencyCompetenciesPage.prototype.openCompetency=function(e){this.competencyId=e;this.splitviewCtrl.push("AddonCompetencyCompetencyPage",this.planId?{competencyId:e,planId:this.planId}:{competencyId:e,courseId:this.courseId,userId:this.userId})},AddonCompetencyCompetenciesPage.prototype.refreshCompetencies=function(e){var n=this;return(this.planId?this.competencyProvider.invalidateLearningPlan(this.planId):this.competencyProvider.invalidateCourseCompetencies(this.courseId,this.userId)).finally(function(){n.fetchCompetencies().finally(function(){e.complete()})})},p([Object(l._10)(r.a),d("design:type",r.a)],AddonCompetencyCompetenciesPage.prototype,"splitviewCtrl",void 0),AddonCompetencyCompetenciesPage=p([Object(l.m)({selector:"page-addon-competency-competencies",templateUrl:"competencies.html"}),d("design:paramtypes",[o.t,c.c,a.b,s.a])],AddonCompetencyCompetenciesPage)}(),m=this&&this.__decorate||function(e,n,t,l){var o,c=arguments.length,i=c<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,l);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(c<3?o(i):c>3?o(n,t,i):o(n,t))||i);return c>3&&i&&Object.defineProperty(n,t,i),i},f=function(){function AddonCompetencyCompetenciesPageModule(){}return AddonCompetencyCompetenciesPageModule=m([Object(l.J)({declarations:[_],imports:[i.a,u.a,o.l.forChild(_),c.b.forChild()]})],AddonCompetencyCompetenciesPageModule)}(),y=t(1551),h=t(1552),g=t(1553),C=t(1554),b=t(1555),P=t(1556),I=t(1557),v=t(1558),A=t(1559),w=t(1560),x=t(1561),j=t(1562),R=t(1563),O=t(144),$=t(8),V=t(31),L=t(22),W=t(21),k=t(27),M=t(33),U=t(7),D=t(379),E=t(41),F=t(739),N=t(216),J=t(35),T=t(20),G=t(486),H=t(18),q=t(9),z=t(740),B=t(324),K=t(252),Q=t(487),S=t(70),X=t(16),Y=t(185),Z=t(28),ee=t(34),ne=t(112),te=t(163),le=t(45),oe=t(217),ce=t(178),ie=t(25),ue=t(57),ae=t(54),re=t(2),se=t(87),pe=t(73),de=l._30({encapsulation:2,styles:[],data:{}}),_e=l._28("page-addon-competency-competencies",_,function View_AddonCompetencyCompetenciesPage_Host_0(e){return l._58(0,[(e()(),l._32(0,0,null,null,1,"page-addon-competency-competencies",[],null,null,null,View_AddonCompetencyCompetenciesPage_0,de)),l._31(1,49152,null,0,_,[pe.a,H.a,a.b,s.a],null,null)],null,null)},{},{},[]),me=t(23),fe=t(375),ye=t(376),he=t(378),ge=t(377),Ce=t(485),be=t(738),Pe=t(111),Ie=t(277);t.d(n,"AddonCompetencyCompetenciesPageModuleNgFactory",function(){return ve});var ve=l._29(f,[],function(e){return l._41([l._42(512,l.o,l._22,[[8,[y.a,h.a,g.a,C.a,b.a,P.a,I.a,v.a,A.a,w.a,x.a,j.a,R.a,_e]],[3,l.o],l.L]),l._42(4608,U.m,U.l,[l.G,[2,U.w]]),l._42(4608,me.x,me.x,[]),l._42(4608,me.d,me.d,[]),l._42(4608,fe.b,fe.a,[]),l._42(4608,ye.a,ye.b,[]),l._42(4608,he.b,he.a,[]),l._42(4608,ge.b,ge.a,[]),l._42(4608,H.a,H.a,[Ce.a,fe.b,ye.a,he.b,ge.b,H.b,H.c]),l._42(512,U.b,U.b,[]),l._42(512,me.v,me.v,[]),l._42(512,me.i,me.i,[]),l._42(512,me.s,me.s,[]),l._42(512,be.a,be.a,[]),l._42(512,c.b,c.b,[]),l._42(512,u.a,u.a,[]),l._42(512,Pe.a,Pe.a,[]),l._42(512,i.a,i.a,[]),l._42(512,be.b,be.b,[]),l._42(512,f,f,[]),l._42(256,H.c,void 0,[]),l._42(256,H.b,void 0,[]),l._42(256,Ie.a,_,[])])})}});