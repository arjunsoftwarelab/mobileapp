webpackJsonp([150],{2005:function(e,n,l){"use strict";function View_AddonBadgesUserBadgesPage_1(e){return a._58(0,[(e()(),a._32(0,0,null,null,3,"core-empty-box",[["icon","trophy"]],null,null,null,$.b,$.a)),a._31(1,49152,null,0,k.a,[],{message:[0,"message"],icon:[1,"icon"]},null),a._48(131072,C.a,[L.a,a.j]),(e()(),a._56(-1,0,["\n            "]))],function(e,n){e(n,1,0,a._57(n,1,0,a._45(n,2).transform("addon.badges.nobadges")),"trophy")},null)}function View_AddonBadgesUserBadgesPage_4(e){return a._58(0,[(e()(),a._32(0,0,null,null,3,"ion-badge",[["color","danger"],["item-end",""]],null,null,null,null,null)),a._31(1,16384,null,0,W.a,[M.a,a.t,a.W],{color:[0,"color"]},null),(e()(),a._56(2,null,["\n                        ","\n                    "])),a._48(131072,C.a,[L.a,a.j])],function(e,n){e(n,1,0,"danger")},function(e,n){e(n,2,0,a._57(n,2,0,a._45(n,3).transform("addon.badges.expired")))})}function View_AddonBadgesUserBadgesPage_3(e){return a._58(0,[(e()(),a._32(0,0,null,null,23,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(e,n,l){var a=!0;if("click"===n){a=!1!==e.component.loadIssuedBadge(e.context.$implicit.uniquehash)&&a}return a},H.b,H.a)),a._31(1,1097728,null,3,T.a,[D.a,M.a,a.t,a.W,[2,q.a]],null,null),a._53(335544320,3,{contentLabel:0}),a._53(603979776,4,{_buttons:1}),a._53(603979776,5,{_icons:1}),a._31(5,16384,null,0,E.a,[],null,null),(e()(),a._56(-1,2,["\n                    "])),(e()(),a._32(7,0,null,0,5,"ion-avatar",[["item-start",""]],null,null,null,null,null)),a._31(8,16384,null,0,F.a,[],null,null),(e()(),a._56(-1,null,["\n                        "])),(e()(),a._32(10,0,null,null,1,"img",[["core-external-content",""],["item-start",""]],[[8,"alt",0]],null,null,null,null)),a._31(11,4734976,null,0,N.a,[a.t,J.b,G.b,S.a,g.b,_.b,z.b,K.b],{src:[0,"src"]},null),(e()(),a._56(-1,null,["\n                    "])),(e()(),a._56(-1,2,["\n                    "])),(e()(),a._32(14,0,null,2,1,"h2",[],null,null,null,null,null)),(e()(),a._56(15,null,["",""])),(e()(),a._56(-1,2,["\n                    "])),(e()(),a._32(17,0,null,2,2,"p",[],null,null,null,null,null)),(e()(),a._56(18,null,["",""])),a._50(19,2),(e()(),a._56(-1,2,["\n                    "])),(e()(),a._27(16777216,null,4,1,null,View_AddonBadgesUserBadgesPage_4)),a._31(22,16384,null,0,Q.k,[a._12,a._7],{ngIf:[0,"ngIf"]},null),(e()(),a._56(-1,2,["\n                "]))],function(e,n){var l=n.component;e(n,11,0,n.context.$implicit.badgeurl);e(n,22,0,n.context.$implicit.dateexpire&&l.currentTime>=n.context.$implicit.dateexpire)},function(e,n){e(n,0,0,n.context.$implicit.name,n.context.$implicit.uniquehash==n.component.badgeHash);e(n,10,0,n.context.$implicit.name);e(n,15,0,n.context.$implicit.name);e(n,18,0,a._57(n,18,0,e(n,19,0,a._45(n.parent.parent,0),1e3*n.context.$implicit.dateissued,"strftimedatetimeshort")))})}function View_AddonBadgesUserBadgesPage_2(e){return a._58(0,[(e()(),a._32(0,0,null,null,5,"ion-list",[["no-margin",""]],null,null,null,null,null)),a._31(1,16384,null,0,X.a,[M.a,a.t,a.W,S.a,Y.l,Z.a],null,null),(e()(),a._56(-1,null,["\n                "])),(e()(),a._27(16777216,null,null,1,null,View_AddonBadgesUserBadgesPage_3)),a._31(4,802816,null,0,Q.j,[a._12,a._7,a.E],{ngForOf:[0,"ngForOf"]},null),(e()(),a._56(-1,null,["\n            "]))],function(e,n){e(n,4,0,n.component.badges)},null)}function View_AddonBadgesUserBadgesPage_0(e){return a._58(0,[a._48(0,ee.a,[J.b,r.b]),a._53(402653184,1,{content:0}),a._53(402653184,2,{splitviewCtrl:0}),(e()(),a._32(3,0,null,null,12,"ion-header",[],null,null,null,null,null)),a._31(4,16384,null,0,ne.a,[M.a,a.t,a.W,[2,le.a]],null,null),(e()(),a._56(-1,null,["\n    "])),(e()(),a._32(6,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,ae.b,ae.a)),a._31(7,49152,null,0,te.a,[ue.a,[2,le.a],[2,se.a],M.a,a.t,a.W],null,null),a._31(8,212992,null,0,de.a,[te.a,L.a,oe.b],null,null),(e()(),a._56(-1,3,["\n        "])),(e()(),a._32(10,0,null,3,3,"ion-title",[],null,null,null,ie.b,ie.a)),a._31(11,49152,null,0,re.a,[M.a,a.t,a.W,[2,_e.a],[2,te.a]],null,null),(e()(),a._56(12,0,["",""])),a._48(131072,C.a,[L.a,a.j]),(e()(),a._56(-1,3,["\n    "])),(e()(),a._56(-1,null,["\n"])),(e()(),a._56(-1,null,["\n"])),(e()(),a._32(17,0,null,null,24,"core-split-view",[],null,null,null,ge.b,ge.a)),a._31(18,245760,[[2,4]],0,c.a,[[2,se.a],a.t,ce.b,S.a,L.a],null,null),(e()(),a._56(-1,0,["\n    "])),(e()(),a._32(20,0,null,0,20,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,be.b,be.a)),a._31(21,4374528,[[1,4]],0,fe.a,[M.a,S.a,Z.a,a.t,a.W,ue.a,he.a,a.N,[2,le.a],[2,se.a]],null,null),(e()(),a._56(-1,1,["\n        "])),(e()(),a._32(23,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(e,n,l){var a=!0;if("ionRefresh"===n){a=!1!==e.component.refreshBadges(l)&&a}return a},null,null)),a._31(24,212992,null,0,pe.a,[S.a,fe.a,a.N,Y.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(e()(),a._56(-1,null,["\n            "])),(e()(),a._32(26,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Be.b,Be.a)),a._31(27,114688,null,0,me.a,[pe.a,M.a],{pullingText:[0,"pullingText"]},null),a._48(131072,C.a,[L.a,a.j]),(e()(),a._56(-1,null,["\n        "])),(e()(),a._56(-1,1,["\n        "])),(e()(),a._32(31,0,null,1,8,"core-loading",[],null,null,null,Pe.b,Pe.a)),a._31(32,638976,null,0,Ue.a,[L.a,a.t,oe.b,K.b],{hideUntil:[0,"hideUntil"]},null),(e()(),a._56(-1,0,["\n            "])),(e()(),a._27(16777216,null,0,1,null,View_AddonBadgesUserBadgesPage_1)),a._31(35,16384,null,0,Q.k,[a._12,a._7],{ngIf:[0,"ngIf"]},null),(e()(),a._56(-1,0,["\n\n            "])),(e()(),a._27(16777216,null,0,1,null,View_AddonBadgesUserBadgesPage_2)),a._31(38,16384,null,0,Q.k,[a._12,a._7],{ngIf:[0,"ngIf"]},null),(e()(),a._56(-1,0,["\n        "])),(e()(),a._56(-1,1,["\n    "])),(e()(),a._56(-1,0,["\n"]))],function(e,n){var l=n.component;e(n,8,0),e(n,18,0);e(n,24,0,l.badgesLoaded);e(n,27,0,a._35(1,"",a._57(n,27,0,a._45(n,28).transform("core.pulltorefresh")),""));e(n,32,0,l.badgesLoaded);e(n,35,0,!l.badges||0==l.badges.length);e(n,38,0,l.badges&&l.badges.length)},function(e,n){e(n,6,0,a._45(n,7)._hidden,a._45(n,7)._sbPadding);e(n,12,0,a._57(n,12,0,a._45(n,13).transform("addon.badges.badges")));e(n,20,0,a._45(n,21).statusbarPadding,a._45(n,21)._hasRefresher);e(n,23,0,"inactive"!==a._45(n,24).state,a._45(n,24)._top);e(n,26,0,a._45(n,27).r.state)})}Object.defineProperty(n,"__esModule",{value:!0});var a=l(0),t=l(5),u=l(3),s=l(26),d=l(32),o=l(111),i=l(294),r=l(24),_=l(4),g=l(1),c=l(29),b=this&&this.__decorate||function(e,n,l,a){var t,u=arguments.length,s=u<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,l):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,l,a);else for(var d=e.length-1;d>=0;d--)(t=e[d])&&(s=(u<3?t(s):u>3?t(n,l,s):t(n,l))||s);return u>3&&s&&Object.defineProperty(n,l,s),s},f=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},h=function(){function AddonBadgesUserBadgesPage(e,n,l,a,t){this.badgesProvider=l,this.domUtils=a,this.timeUtils=t,this.badgesLoaded=!1,this.badges=[],this.currentTime=0,this.courseId=e.get("courseId")||0,this.userId=e.get("userId")||n.getCurrentSite().getUserId()}return AddonBadgesUserBadgesPage.prototype.ionViewDidLoad=function(){var e=this;this.fetchBadges().finally(function(){!e.badgeHash&&e.splitviewCtrl.isOn()&&e.badges.length>0&&e.loadIssuedBadge(e.badges[0].uniquehash),e.badgesLoaded=!0})},AddonBadgesUserBadgesPage.prototype.fetchBadges=function(){var e=this;return this.currentTime=this.timeUtils.timestamp(),this.badgesProvider.getUserBadges(this.courseId,this.userId).then(function(n){e.badges=n}).catch(function(n){e.domUtils.showErrorModalDefault(n,"Error getting badges data.")})},AddonBadgesUserBadgesPage.prototype.refreshBadges=function(e){var n=this;this.badgesProvider.invalidateUserBadges(this.courseId,this.userId).finally(function(){n.fetchBadges().finally(function(){e.complete()})})},AddonBadgesUserBadgesPage.prototype.loadIssuedBadge=function(e){this.badgeHash=e;this.splitviewCtrl.push("AddonBadgesIssuedBadgePage",{courseId:this.courseId,userId:this.userId,badgeHash:e})},b([Object(a._10)(t.f),f("design:type",t.f)],AddonBadgesUserBadgesPage.prototype,"content",void 0),b([Object(a._10)(c.a),f("design:type",c.a)],AddonBadgesUserBadgesPage.prototype,"splitviewCtrl",void 0),AddonBadgesUserBadgesPage=b([Object(a.m)({selector:"page-addon-badges-user-badges",templateUrl:"user-badges.html"}),f("design:paramtypes",[t.t,g.b,i.a,_.b,r.b])],AddonBadgesUserBadgesPage)}(),p=this&&this.__decorate||function(e,n,l,a){var t,u=arguments.length,s=u<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,l):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,l,a);else for(var d=e.length-1;d>=0;d--)(t=e[d])&&(s=(u<3?t(s):u>3?t(n,l,s):t(n,l))||s);return u>3&&s&&Object.defineProperty(n,l,s),s},B=function(){function AddonBadgesUserBadgesPageModule(){}return AddonBadgesUserBadgesPageModule=p([Object(a.J)({declarations:[h],imports:[s.a,d.a,o.a,t.l.forChild(h),u.b.forChild()]})],AddonBadgesUserBadgesPageModule)}(),m=l(1551),P=l(1552),U=l(1553),v=l(1554),y=l(1555),A=l(1556),w=l(1557),I=l(1558),x=l(1559),j=l(1560),O=l(1561),R=l(1562),V=l(1563),$=l(126),k=l(118),C=l(25),L=l(18),W=l(144),M=l(8),H=l(31),T=l(22),D=l(21),q=l(27),E=l(33),F=l(164),N=l(234),J=l(6),G=l(17),S=l(16),z=l(19),K=l(2),Q=l(7),X=l(87),Y=l(45),Z=l(34),ee=l(231),ne=l(379),le=l(41),ae=l(739),te=l(216),ue=l(35),se=l(20),de=l(486),oe=l(9),ie=l(740),re=l(324),_e=l(252),ge=l(487),ce=l(70),be=l(185),fe=l(28),he=l(112),pe=l(163),Be=l(217),me=l(178),Pe=l(57),Ue=l(54),ve=l(73),ye=a._30({encapsulation:2,styles:[],data:{}}),Ae=a._28("page-addon-badges-user-badges",h,function View_AddonBadgesUserBadgesPage_Host_0(e){return a._58(0,[(e()(),a._32(0,0,null,null,1,"page-addon-badges-user-badges",[],null,null,null,View_AddonBadgesUserBadgesPage_0,ye)),a._31(1,49152,null,0,h,[ve.a,g.b,i.a,_.b,r.b],null,null)],null,null)},{},{},[]),we=l(23),Ie=l(375),xe=l(376),je=l(378),Oe=l(377),Re=l(485),Ve=l(738),$e=l(277);l.d(n,"AddonBadgesUserBadgesPageModuleNgFactory",function(){return ke});var ke=a._29(B,[],function(e){return a._41([a._42(512,a.o,a._22,[[8,[m.a,P.a,U.a,v.a,y.a,A.a,w.a,I.a,x.a,j.a,O.a,R.a,V.a,Ae]],[3,a.o],a.L]),a._42(4608,Q.m,Q.l,[a.G,[2,Q.w]]),a._42(4608,we.x,we.x,[]),a._42(4608,we.d,we.d,[]),a._42(4608,Ie.b,Ie.a,[]),a._42(4608,xe.a,xe.b,[]),a._42(4608,je.b,je.a,[]),a._42(4608,Oe.b,Oe.a,[]),a._42(4608,L.a,L.a,[Re.a,Ie.b,xe.a,je.b,Oe.b,L.b,L.c]),a._42(512,Q.b,Q.b,[]),a._42(512,we.v,we.v,[]),a._42(512,we.i,we.i,[]),a._42(512,we.s,we.s,[]),a._42(512,Ve.a,Ve.a,[]),a._42(512,u.b,u.b,[]),a._42(512,d.a,d.a,[]),a._42(512,o.a,o.a,[]),a._42(512,s.a,s.a,[]),a._42(512,Ve.b,Ve.b,[]),a._42(512,B,B,[]),a._42(256,L.c,void 0,[]),a._42(256,L.b,void 0,[]),a._42(256,$e.a,h,[])])})}});