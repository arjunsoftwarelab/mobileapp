webpackJsonp([13],{2050:function(n,l,o){"use strict";function View_AddonModForumPostComponent_2(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"core-icon",[["name","fa-map-pin"]],null,null,null,kn.b,kn.a)),t._31(1,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"fa-map-pin")},null)}function View_AddonModForumPostComponent_3(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"core-icon",[["class","addon-forum-star"],["name","fa-star"]],null,null,null,kn.b,kn.a)),t._31(1,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"fa-star")},null)}function View_AddonModForumPostComponent_4(n){return t._58(0,[(n()(),t._32(0,0,null,null,6,"ion-note",[["float-end",""],["padding-left",""],["text-end",""]],[[1,"aria-label",0]],null,null,null,null)),t._31(1,16384,null,0,xn.a,[un.a,t.t,t.W],null,null),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._32(4,0,null,null,1,"core-icon",[["color","primary"],["name","fa-circle"]],null,null,null,kn.b,kn.a)),t._31(5,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"],color:[1,"color"]},null),(n()(),t._56(-1,null,["\n                "]))],function(n,l){n(l,5,0,"fa-circle","primary")},function(n,l){n(l,0,0,t._57(l,0,0,t._45(l,2).transform("addon.mod_forum.unread")))})}function View_AddonModForumPostComponent_5(n){return t._58(0,[(n()(),t._32(0,0,null,null,6,"button",[["clear",""],["color","dark"],["icon-only",""],["ion-button",""]],[[1,"aria-label",0]],[[null,"click"]],function(n,l,o){var t=!0;if("click"===l){t=!1!==n.component.showOptionsMenu(o)&&t}return t},Sn.b,Sn.a)),t._31(1,1097728,[[3,4]],0,On.a,[[8,""],un.a,t.t,t.W],{color:[0,"color"],clear:[1,"clear"]},null),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n                    "])),(n()(),t._32(4,0,null,0,1,"core-icon",[["name","more"]],null,null,null,kn.b,kn.a)),t._31(5,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"]},null),(n()(),t._56(-1,0,["\n                "]))],function(n,l){n(l,1,0,"dark","");n(l,5,0,"more")},function(n,l){n(l,0,0,t._57(l,0,0,t._45(l,2).transform("core.displayoptions")))})}function View_AddonModForumPostComponent_1(n){return t._58(0,[(n()(),t._32(0,0,null,null,19,"div",[["class","addon-mod-forum-post-title"]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n                "])),(n()(),t._32(2,0,null,null,10,"h2",[["text-wrap",""]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_2)),t._31(5,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_3)),t._31(8,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._32(10,16777216,null,null,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),t._31(11,540672,null,0,sn.a,[t.t,_.b,m.b,rn.b,cn.a,dn.a,f.b,_n.b,mn.b,fn.b,pn.b,[2,gn.a],[2,hn.a],[2,h.a],In.a,d.b,bn.a,vn.a,Pn.a,t._12,yn.b],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],courseId:[3,"courseId"]},null),(n()(),t._56(-1,null,["\n                "])),(n()(),t._56(-1,null,["\n                "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_4)),t._31(15,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_5)),t._31(18,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n            "]))],function(n,l){var o=l.component;n(l,5,0,o.discussion&&!o.post.parentid&&o.discussion.pinned);n(l,8,0,o.discussion&&!o.post.parentid&&!o.discussion.pinned&&o.discussion.starred);n(l,11,0,o.post.subject,"module",o.forum&&o.forum.cmid,o.courseId);n(l,15,0,o.trackPosts&&o.post.unread);n(l,18,0,o.optionsMenuEnabled)},null)}function View_AddonModForumPostComponent_6(n){return t._58(0,[(n()(),t._32(0,0,null,null,2,"ion-avatar",[["core-user-avatar",""],["item-start",""]],null,null,null,Ln.b,Ln.a)),t._31(1,16384,null,0,En.a,[],null,null),t._31(2,770048,null,0,Rn.a,[gn.a,_.b,f.b,c.b,d.b,[2,h.a]],{user:[0,"user"],courseId:[1,"courseId"]},null)],function(n,l){var o=l.component;n(l,2,0,o.post.author,o.courseId)},null)}function View_AddonModForumPostComponent_7(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),t._56(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.post.author.fullname)})}function View_AddonModForumPostComponent_9(n){return t._58(0,[(n()(),t._32(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),t._32(1,0,null,null,1,"ion-icon",[["name","people"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._31(2,147456,[[4,4]],0,Fn.a,[un.a,t.t,t.W],{name:[0,"name"]},null),(n()(),t._56(3,null,[" "," "]))],function(n,l){n(l,2,0,"people")},function(n,l){n(l,1,0,t._45(l,2)._hidden);n(l,3,0,l.context.$implicit.name)})}function View_AddonModForumPostComponent_8(n){return t._58(0,[(n()(),t._32(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_9)),t._31(2,802816,null,0,jn.j,[t._12,t._7,t.E],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.post.author.groups)},null)}function View_AddonModForumPostComponent_10(n){return t._58(0,[(n()(),t._32(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t._56(1,null,["",""])),t._50(2,2)],null,function(n,l){var o=l.component;n(l,1,0,t._57(l,1,0,n(l,2,0,t._45(l.parent,0),1e3*o.post.timecreated,"strftimerecentfull")))})}function View_AddonModForumPostComponent_11(n){return t._58(0,[(n()(),t._32(0,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),t._32(1,0,null,null,1,"ion-icon",[["name","time"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._31(2,147456,[[4,4]],0,Fn.a,[un.a,t.t,t.W],{name:[0,"name"]},null),(n()(),t._56(3,null,[" ",""])),t._48(131072,Mn.a,[cn.a,t.j])],function(n,l){n(l,2,0,"time")},function(n,l){n(l,1,0,t._45(l,2)._hidden);n(l,3,0,t._57(l,3,0,t._45(l,4).transform("core.notsent")))})}function View_AddonModForumPostComponent_13(n){return t._58(0,[(n()(),t._32(0,0,null,null,6,"ion-note",[["float-end",""],["padding-left",""],["text-end",""]],[[1,"aria-label",0]],null,null,null,null)),t._31(1,16384,null,0,xn.a,[un.a,t.t,t.W],null,null),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,null,["\n                        "])),(n()(),t._32(4,0,null,null,1,"core-icon",[["color","primary"],["name","fa-circle"]],null,null,null,kn.b,kn.a)),t._31(5,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"],color:[1,"color"]},null),(n()(),t._56(-1,null,["\n                    "]))],function(n,l){n(l,5,0,"fa-circle","primary")},function(n,l){n(l,0,0,t._57(l,0,0,t._45(l,2).transform("addon.mod_forum.unread")))})}function View_AddonModForumPostComponent_14(n){return t._58(0,[(n()(),t._32(0,0,null,null,6,"button",[["clear",""],["color","dark"],["icon-only",""],["ion-button",""]],[[1,"aria-label",0]],[[null,"click"]],function(n,l,o){var t=!0;if("click"===l){t=!1!==n.component.showOptionsMenu(o)&&t}return t},Sn.b,Sn.a)),t._31(1,1097728,[[3,4]],0,On.a,[[8,""],un.a,t.t,t.W],{color:[0,"color"],clear:[1,"clear"]},null),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n                        "])),(n()(),t._32(4,0,null,0,1,"core-icon",[["name","more"]],null,null,null,kn.b,kn.a)),t._31(5,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"]},null),(n()(),t._56(-1,0,["\n                    "]))],function(n,l){n(l,1,0,"dark","");n(l,5,0,"more")},function(n,l){n(l,0,0,t._57(l,0,0,t._45(l,2).transform("core.displayoptions")))})}function View_AddonModForumPostComponent_12(n){return t._58(0,[(n()(),t._32(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_13)),t._31(3,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_14)),t._31(6,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                "]))],function(n,l){var o=l.component;n(l,3,0,o.trackPosts&&o.post.unread);n(l,6,0,o.optionsMenuEnabled)},null)}function View_AddonModForumPostComponent_15(n){return t._58(0,[(n()(),t._32(0,0,null,null,6,"div",[["padding-bottom",""]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n            "])),(n()(),t._32(2,0,null,null,3,"ion-note",[["color","danger"]],null,null,null,null,null)),t._31(3,16384,null,0,xn.a,[un.a,t.t,t.W],{color:[0,"color"]},null),(n()(),t._56(4,null,["",""])),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,null,["\n        "]))],function(n,l){n(l,3,0,"danger")},function(n,l){n(l,4,0,t._57(l,4,0,t._45(l,5).transform("addon.mod_forum.postisprivatereply")))})}function View_AddonModForumPostComponent_16(n){return t._58(0,[(n()(),t._32(0,0,null,null,4,"div",[["no-lines",""]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n            "])),(n()(),t._32(2,0,null,null,1,"core-files",[["showInline","true"]],null,null,null,Un.b,Un.a)),t._31(3,376832,null,0,Tn.a,[Wn.b,f.b,t.F],{files:[0,"files"],component:[1,"component"],componentId:[2,"componentId"],showInline:[3,"showInline"]},null),(n()(),t._56(-1,null,["\n        "]))],function(n,l){var o=l.component;n(l,3,0,o.post.attachments,o.component,o.componentId,"true")},null)}function View_AddonModForumPostComponent_17(n){return t._58(0,[(n()(),t._32(0,0,null,null,13,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Nn.b,Nn.a)),t._31(1,1097728,null,3,Hn.a,[qn.a,un.a,t.t,t.W,[2,$n.a]],null,null),t._53(335544320,5,{contentLabel:0}),t._53(603979776,6,{_buttons:1}),t._53(603979776,7,{_icons:1}),t._31(5,16384,null,0,Gn.a,[],null,null),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(7,0,null,0,2,"div",[["item-start",""]],null,null,null,null,null)),(n()(),t._56(8,null,["",":"])),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(11,0,null,2,1,"core-tag-list",[],null,null,null,Yn.b,Yn.a)),t._31(12,49152,null,0,zn.a,[gn.a,[2,h.a]],{tags:[0,"tags"]},null),(n()(),t._56(-1,2,["\n        "]))],function(n,l){n(l,12,0,l.component.post.tags)},function(n,l){n(l,8,0,t._57(l,8,0,t._45(l,9).transform("core.tag.tags")))})}function View_AddonModForumPostComponent_18(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"core-rating-rate",[["contextLevel","module"]],null,[[null,"onUpdate"]],function(n,l,o){var t=!0;if("onUpdate"===l){t=!1!==n.component.ratingUpdated()&&t}return t},Bn.b,Bn.a)),t._31(1,704512,null,0,Kn.a,[m.b,cn.a,d.b,I.a,b.a,_.b],{ratingInfo:[0,"ratingInfo"],contextLevel:[1,"contextLevel"],instanceId:[2,"instanceId"],itemId:[3,"itemId"],itemSetId:[4,"itemSetId"],courseId:[5,"courseId"],aggregateMethod:[6,"aggregateMethod"],scaleId:[7,"scaleId"],userId:[8,"userId"]},{onUpdate:"onUpdate"})],function(n,l){var o=l.component;n(l,1,0,o.ratingInfo,"module",o.componentId,o.post.id,o.discussionId,o.courseId,o.forum.assessed,o.forum.scale,o.post.author.id)},null)}function View_AddonModForumPostComponent_19(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"core-rating-aggregate",[["contextLevel","module"]],null,null,null,Jn.b,Jn.a)),t._31(1,704512,null,0,Qn.a,[d.b,Xn.a,I.a,_.b],{ratingInfo:[0,"ratingInfo"],contextLevel:[1,"contextLevel"],instanceId:[2,"instanceId"],itemId:[3,"itemId"],aggregateMethod:[4,"aggregateMethod"],scaleId:[5,"scaleId"],courseId:[6,"courseId"]},null)],function(n,l){var o=l.component;n(l,1,0,o.ratingInfo,"module",o.componentId,o.post.id,o.forum.assessed,o.forum.scale,o.courseId)},null)}function View_AddonModForumPostComponent_20(n){return t._58(0,[(n()(),t._32(0,0,null,null,14,"ion-item",[["class","addon-forum-reply-button item item-block"],["no-padding",""],["text-end",""]],null,null,null,Nn.b,Nn.a)),t._31(1,1097728,null,3,Hn.a,[qn.a,un.a,t.t,t.W,[2,$n.a]],null,null),t._53(335544320,8,{contentLabel:0}),t._53(603979776,9,{_buttons:1}),t._53(603979776,10,{_icons:1}),t._31(5,16384,null,0,Gn.a,[],null,null),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(7,0,null,2,6,"button",[["clear",""],["icon-left",""],["ion-button",""],["small",""]],[[1,"aria-controls",0],[1,"aria-expanded",0]],[[null,"click"]],function(n,l,o){var t=!0;if("click"===l){t=!1!==n.component.showReplyForm()&&t}return t},Sn.b,Sn.a)),t._31(8,1097728,[[9,4]],0,On.a,[[8,""],un.a,t.t,t.W],{small:[0,"small"],clear:[1,"clear"]},null),(n()(),t._56(-1,0,["\n                "])),(n()(),t._32(10,0,null,0,1,"core-icon",[["name","fa-reply"]],null,null,null,kn.b,kn.a)),t._31(11,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"]},null),(n()(),t._56(12,0,[" ","\n            "])),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,2,["\n        "]))],function(n,l){n(l,8,0,"","");n(l,11,0,"fa-reply")},function(n,l){var o=l.component;n(l,7,0,"addon-forum-reply-edit-form-"+o.uniqueId,o.replyData.replyingTo===o.post.id);n(l,12,0,t._57(l,12,0,t._45(l,13).transform("addon.mod_forum.reply")))})}function View_AddonModForumPostComponent_22(n){return t._58(0,[(n()(),t._32(0,0,null,null,18,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Nn.b,Nn.a)),t._31(1,1097728,null,3,Hn.a,[qn.a,un.a,t.t,t.W,[2,$n.a]],null,null),t._53(335544320,17,{contentLabel:0}),t._53(603979776,18,{_buttons:1}),t._53(603979776,19,{_icons:1}),t._31(5,16384,null,0,Gn.a,[],null,null),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(7,0,null,1,3,"ion-label",[],null,null,null,null,null)),t._31(8,16384,[[17,4]],0,Zn.a,[un.a,t.t,t.W,[8,null],[8,null],[8,null],[8,null]],null,null),(n()(),t._56(9,null,["",""])),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(12,0,null,4,5,"ion-checkbox",[["item-end",""],["name","isprivatereply"]],[[2,"checkbox-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,l,o){var u=!0,e=n.component;if("click"===l){u=!1!==t._45(n,13)._click(o)&&u}if("ngModelChange"===l){u=!1!==(e.replyData.isprivatereply=o)&&u}return u},nl.b,nl.a)),t._31(13,1228800,null,0,ll.a,[un.a,qn.a,[2,Hn.a],t.t,t.W],null,null),t._51(1024,null,ol.l,function(n){return[n]},[ll.a]),t._31(15,671744,null,0,ol.q,[[2,ol.b],[8,null],[8,null],[2,ol.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t._51(2048,null,ol.m,null,[ol.q]),t._31(17,16384,null,0,ol.n,[ol.m],null,null),(n()(),t._56(-1,2,["\n        "]))],function(n,l){n(l,15,0,"isprivatereply",l.component.replyData.isprivatereply)},function(n,l){n(l,9,0,t._57(l,9,0,t._45(l,10).transform("addon.mod_forum.privatereply")));n(l,12,0,t._45(l,13)._disabled,t._45(l,17).ngClassUntouched,t._45(l,17).ngClassTouched,t._45(l,17).ngClassPristine,t._45(l,17).ngClassDirty,t._45(l,17).ngClassValid,t._45(l,17).ngClassInvalid,t._45(l,17).ngClassPending)})}function View_AddonModForumPostComponent_24(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"core-icon",[["item-start",""],["name","fa-caret-right"]],null,null,null,kn.b,kn.a)),t._31(1,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"fa-caret-right")},null)}function View_AddonModForumPostComponent_25(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"core-icon",[["item-start",""],["name","fa-caret-down"]],null,null,null,kn.b,kn.a)),t._31(1,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"fa-caret-down")},null)}function View_AddonModForumPostComponent_26(n){return t._58(0,[(n()(),t._32(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t._56(-1,null,["\n                "])),(n()(),t._32(2,0,null,null,1,"core-attachments",[],null,null,null,tl.b,tl.a)),t._31(3,114688,null,0,ul.a,[c.b,m.b,rn.b,p.b,cn.a,el.a],{files:[0,"files"],maxSize:[1,"maxSize"],maxSubmissions:[2,"maxSubmissions"],component:[3,"component"],componentId:[4,"componentId"],allowOffline:[5,"allowOffline"]},null),(n()(),t._56(-1,null,["\n            "]))],function(n,l){var o=l.component;n(l,3,0,o.replyData.files,o.forum.maxbytes,o.forum.maxattachments,o.component,o.forum.cmid,!0)},null)}function View_AddonModForumPostComponent_23(n){return t._58(0,[(n()(),t._32(0,0,null,null,19,null,null,null,null,null,null,null)),(n()(),t._56(-1,null,["\n            "])),(n()(),t._32(2,0,null,null,13,"ion-item-divider",[["class","core-expandable item item-divider"],["text-wrap",""]],null,[[null,"click"]],function(n,l,o){var t=!0;if("click"===l){t=!1!==n.component.toggleAdvanced()&&t}return t},Nn.b,Nn.a)),t._31(3,1097728,null,3,Hn.a,[qn.a,un.a,t.t,t.W,[2,$n.a]],null,null),t._53(335544320,20,{contentLabel:0}),t._53(603979776,21,{_buttons:1}),t._53(603979776,22,{_icons:1}),t._31(7,16384,null,0,il.a,[un.a,t.t,t.W],null,null),(n()(),t._56(-1,2,["\n                "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumPostComponent_24)),t._31(10,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,2,["\n                "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumPostComponent_25)),t._31(13,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(14,2,["\n                ","\n            "])),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,null,["\n            "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_26)),t._31(18,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n        "]))],function(n,l){var o=l.component;n(l,10,0,!o.advanced);n(l,13,0,o.advanced);n(l,18,0,o.advanced)},function(n,l){n(l,14,0,t._57(l,14,0,t._45(l,15).transform("addon.mod_forum.advanced")))})}function View_AddonModForumPostComponent_21(n){return t._58(0,[(n()(),t._32(0,0,[[1,0],["replyFormEl",1]],null,75,"form",[["ion-list",""],["novalidate",""]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,o){var u=!0;if("submit"===l){u=!1!==t._45(n,2).onSubmit(o)&&u}if("reset"===l){u=!1!==t._45(n,2).onReset()&&u}return u},null,null)),t._31(1,16384,null,0,ol.w,[],null,null),t._31(2,4210688,null,0,ol.p,[[8,null],[8,null]],null,null),t._51(2048,null,ol.b,null,[ol.p]),t._31(4,16384,null,0,ol.o,[ol.b],null,null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._32(6,0,null,null,18,"ion-item",[["class","item item-block"]],null,null,null,Nn.b,Nn.a)),t._31(7,1097728,null,3,Hn.a,[qn.a,un.a,t.t,t.W,[2,$n.a]],null,null),t._53(335544320,11,{contentLabel:0}),t._53(603979776,12,{_buttons:1}),t._53(603979776,13,{_icons:1}),t._31(11,16384,null,0,Gn.a,[],null,null),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(13,0,null,1,3,"ion-label",[["stacked",""]],null,null,null,null,null)),t._31(14,16384,[[11,4]],0,Zn.a,[un.a,t.t,t.W,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),t._56(15,null,["",""])),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(18,0,null,3,5,"ion-input",[["name","subject"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,o){var t=!0;if("ngModelChange"===l){t=!1!==(n.component.replyData.subject=o)&&t}return t},al.b,al.a)),t._31(19,671744,null,0,ol.q,[[2,ol.b],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t._51(2048,null,ol.m,null,[ol.q]),t._31(21,16384,null,0,ol.n,[ol.m],null,null),t._31(22,5423104,null,0,sl.a,[un.a,dn.a,qn.a,rl.a,t.t,t.W,[2,hn.a],[2,Hn.a],[2,ol.m],cl.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,2,["\n        "])),(n()(),t._56(-1,null,["\n        "])),(n()(),t._32(26,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,Nn.b,Nn.a)),t._31(27,1097728,null,3,Hn.a,[qn.a,un.a,t.t,t.W,[2,$n.a]],null,null),t._53(335544320,14,{contentLabel:0}),t._53(603979776,15,{_buttons:1}),t._53(603979776,16,{_icons:1}),t._31(31,16384,null,0,Gn.a,[],null,null),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(33,0,null,1,3,"ion-label",[["stacked",""]],null,null,null,null,null)),t._31(34,16384,[[14,4]],0,Zn.a,[un.a,t.t,t.W,[8,null],[8,""],[8,null],[8,null]],null,null),(n()(),t._56(35,null,["",""])),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(38,0,null,3,3,"core-rich-text-editor",[["contextLevel","module"],["elementId","message"],["item-content",""]],null,[[null,"contentChanged"]],function(n,l,o){var t=!0;if("contentChanged"===l){t=!1!==n.component.onMessageChange(o)&&t}return t},X.c,X.b)),t._31(39,1228800,null,0,dl.a,[m.b,_n.b,_.b,fn.b,[2,hn.a],t.t,d.b,f.b,dn.a,_l.a,ml.a],{placeholder:[0,"placeholder"],control:[1,"control"],name:[2,"name"],component:[3,"component"],componentId:[4,"componentId"],autoSave:[5,"autoSave"],contextLevel:[6,"contextLevel"],contextInstanceId:[7,"contextInstanceId"],elementId:[8,"elementId"],draftExtraParams:[9,"draftExtraParams"]},{contentChanged:"contentChanged"}),t._48(131072,Mn.a,[cn.a,t.j]),t._49(41,{reply:0}),(n()(),t._56(-1,2,["\n        "])),(n()(),t._56(-1,null,["\n        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_22)),t._31(45,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_23)),t._31(48,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._32(50,0,null,null,24,"ion-grid",[["class","grid"]],null,null,null,null,null)),t._31(51,16384,null,0,fl.a,[],null,null),(n()(),t._56(-1,null,["\n            "])),(n()(),t._32(53,0,null,null,20,"ion-row",[["class","row"]],null,null,null,null,null)),t._31(54,16384,null,0,pl.a,[],null,null),(n()(),t._56(-1,null,["\n                "])),(n()(),t._32(56,0,null,null,7,"ion-col",[["class","col"]],null,null,null,null,null)),t._31(57,16384,null,0,gl.a,[],null,null),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._32(59,0,null,null,3,"button",[["block",""],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,o){var t=!0;if("click"===l){t=!1!==n.component.reply()&&t}return t},Sn.b,Sn.a)),t._31(60,1097728,null,0,On.a,[[8,""],un.a,t.t,t.W],{block:[0,"block"]},null),(n()(),t._56(61,0,["",""])),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,null,["\n                "])),(n()(),t._56(-1,null,["\n                "])),(n()(),t._32(65,0,null,null,7,"ion-col",[["class","col"]],null,null,null,null,null)),t._31(66,16384,null,0,gl.a,[],null,null),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._32(68,0,null,null,3,"button",[["block",""],["color","light"],["ion-button",""]],null,[[null,"click"]],function(n,l,o){var t=!0;if("click"===l){t=!1!==n.component.cancel()&&t}return t},Sn.b,Sn.a)),t._31(69,1097728,null,0,On.a,[[8,""],un.a,t.t,t.W],{color:[0,"color"],block:[1,"block"]},null),(n()(),t._56(70,0,["",""])),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,null,["\n                "])),(n()(),t._56(-1,null,["\n            "])),(n()(),t._56(-1,null,["\n        "])),(n()(),t._56(-1,null,["\n    "]))],function(n,l){var o=l.component;n(l,19,0,"subject",o.replyData.subject);n(l,22,0,"text",t._57(l,22,1,t._45(l,23).transform("addon.mod_forum.subject")));n(l,39,0,t._57(l,39,0,t._45(l,40).transform("addon.mod_forum.replyplaceholder")),o.messageControl,"mod_forum_reply_"+o.post.id,o.component,o.componentId,!0,"module",o.forum&&o.forum.cmid,"message",n(l,41,0,o.post.id));n(l,45,0,o.accessInfo.canpostprivatereply);n(l,48,0,o.forum.id&&o.forum.maxattachments>0);n(l,60,0,"");n(l,69,0,"light","")},function(n,l){var o=l.component;n(l,0,0,"addon-forum-reply-edit-form-"+o.uniqueId,t._45(l,4).ngClassUntouched,t._45(l,4).ngClassTouched,t._45(l,4).ngClassPristine,t._45(l,4).ngClassDirty,t._45(l,4).ngClassValid,t._45(l,4).ngClassInvalid,t._45(l,4).ngClassPending);n(l,15,0,t._57(l,15,0,t._45(l,16).transform("addon.mod_forum.subject")));n(l,18,0,t._45(l,21).ngClassUntouched,t._45(l,21).ngClassTouched,t._45(l,21).ngClassPristine,t._45(l,21).ngClassDirty,t._45(l,21).ngClassValid,t._45(l,21).ngClassInvalid,t._45(l,21).ngClassPending);n(l,35,0,t._57(l,35,0,t._45(l,36).transform("addon.mod_forum.message")));n(l,59,0,""==o.replyData.subject||null==o.replyData.message);n(l,61,0,t._57(l,61,0,t._45(l,62).transform("addon.mod_forum.posttoforum")));n(l,70,0,t._57(l,70,0,t._45(l,71).transform("core.cancel")))})}function View_AddonModForumPostComponent_0(n){return t._58(0,[t._48(0,hl.a,[mn.b,Il.b]),t._53(671088640,1,{formElement:0}),(n()(),t._32(2,0,null,null,71,"div",[["class","addon-mod_forum-post"]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n    "])),(n()(),t._32(4,0,null,null,37,"ion-card-header",[["no-padding",""],["text-wrap",""]],[[8,"id",0]],null,null,null,null)),t._31(5,16384,null,0,bl.a,[un.a,t.t,t.W],null,null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._32(7,0,null,null,33,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,Nn.b,Nn.a)),t._31(8,1097728,null,3,Hn.a,[qn.a,un.a,t.t,t.W,[2,$n.a]],null,null),t._53(335544320,2,{contentLabel:0}),t._53(603979776,3,{_buttons:1}),t._53(603979776,4,{_icons:1}),t._31(12,16384,null,0,Gn.a,[],null,null),(n()(),t._56(-1,2,["\n            "])),(n()(),t._27(16777216,null,2,1,null,View_AddonModForumPostComponent_1)),t._31(15,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,2,["\n            "])),(n()(),t._32(17,0,null,2,22,"div",[["class","addon-mod-forum-post-info"]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n                "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_6)),t._31(20,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                "])),(n()(),t._32(22,0,null,null,13,"div",[["class","addon-mod-forum-post-author"]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_7)),t._31(25,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_8)),t._31(28,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_10)),t._31(31,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_11)),t._31(34,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                "])),(n()(),t._56(-1,null,["\n                "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_12)),t._31(38,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n            "])),(n()(),t._56(-1,2,["\n        "])),(n()(),t._56(-1,null,["\n    "])),(n()(),t._56(-1,null,["\n    "])),(n()(),t._32(43,0,null,null,11,"ion-card-content",[],[[1,"padding-top",0]],null,null,null,null)),t._31(44,16384,null,0,vl.a,[un.a,t.t,t.W],null,null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_15)),t._31(47,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._32(49,16777216,null,null,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),t._31(50,540672,null,0,sn.a,[t.t,_.b,m.b,rn.b,cn.a,dn.a,f.b,_n.b,mn.b,fn.b,pn.b,[2,gn.a],[2,hn.a],[2,h.a],In.a,d.b,bn.a,vn.a,Pn.a,t._12,yn.b],{text:[0,"text"],component:[1,"component"],componentId:[2,"componentId"],contextLevel:[3,"contextLevel"],contextInstanceId:[4,"contextInstanceId"],courseId:[5,"courseId"]},null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_16)),t._31(53,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n    "])),(n()(),t._56(-1,null,["\n    "])),(n()(),t._32(56,0,null,null,13,"div",[["class","addon-mod-forum-post-more-info"]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_17)),t._31(59,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_18)),t._31(62,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_19)),t._31(65,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n\n        "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_20)),t._31(68,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n    "])),(n()(),t._56(-1,null,["\n\n    "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumPostComponent_21)),t._31(72,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n"])),(n()(),t._56(-1,null,["\n"]))],function(n,l){var o=l.component;n(l,15,0,o.displaySubject);n(l,20,0,o.post.author&&o.post.author.fullname);n(l,25,0,o.post.author&&o.post.author.fullname);n(l,28,0,o.post.author&&o.post.author.groups);n(l,31,0,o.post.timecreated);n(l,34,0,!o.post.timecreated);n(l,38,0,!o.displaySubject);n(l,47,0,o.post.isprivatereply);n(l,50,0,o.post.message,o.component,o.componentId,"module",o.forum&&o.forum.cmid,o.courseId);n(l,53,0,o.post.attachments&&o.post.attachments.length>0);n(l,59,0,o.tagsEnabled&&o.post.tags&&o.post.tags.length>0);n(l,62,0,o.forum&&o.ratingInfo);n(l,65,0,o.forum&&o.ratingInfo);n(l,68,0,o.post.id>0&&o.post.capabilities.reply&&!o.post.isprivatereply);n(l,72,0,o.post.id>0&&!o.replyData.isEditing&&o.replyData.replyingTo==o.post.id||o.post.id<=0&&o.replyData.isEditing&&o.replyData.replyingTo==o.post.parentid)},function(n,l){var o=l.component;n(l,4,0,t._35(1,"addon-mod_forum-post-",o.post.id,""));n(l,43,0,0==o.post.parentid||null)})}function View_AddonModForumDiscussionPage_1(n){return t._58(0,[(n()(),t._32(0,0,null,null,3,"ion-title",[],null,null,null,on.b,on.a)),t._31(1,49152,null,0,tn.a,[un.a,t.t,t.W,[2,en.a],[2,an.a]],null,null),(n()(),t._32(2,16777216,null,0,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),t._31(3,540672,null,0,sn.a,[t.t,_.b,m.b,rn.b,cn.a,dn.a,f.b,_n.b,mn.b,fn.b,pn.b,[2,gn.a],[2,hn.a],[2,h.a],In.a,d.b,bn.a,vn.a,Pn.a,t._12,yn.b],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],courseId:[3,"courseId"]},null)],function(n,l){var o=l.component;n(l,3,0,o.startingPost.subject,"module",o.cmId,o.courseId)},null)}function View_AddonModForumDiscussionPage_2(n){return t._58(0,[(n()(),t._32(0,0,null,null,2,"core-context-menu-item",[],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.doRefresh(null,o)&&t}return t},Cn.b,Cn.a)),t._31(1,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],closeOnClick:[2,"closeOnClick"],priority:[3,"priority"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j])],function(n,l){var o=l.component;n(l,1,0,t._57(l,1,0,t._45(l,2).transform("addon.mod_forum.refreshposts")),o.refreshIcon,!1,650)},null)}function View_AddonModForumDiscussionPage_3(n){return t._58(0,[(n()(),t._32(0,0,null,null,2,"core-context-menu-item",[],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.doRefresh(null,o,!0)&&t}return t},Cn.b,Cn.a)),t._31(1,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],closeOnClick:[2,"closeOnClick"],priority:[3,"priority"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j])],function(n,l){var o=l.component;n(l,1,0,t._57(l,1,0,t._45(l,2).transform("core.settings.synchronizenow")),o.syncIcon,!1,550)},null)}function View_AddonModForumDiscussionPage_4(n){return t._58(0,[(n()(),t._32(0,0,null,null,7,"ion-card",[["class","core-warning-card"]],null,null,null,null,null)),t._31(1,16384,null,0,Dn.a,[un.a,t.t,t.W],null,null),(n()(),t._56(-1,null,["\n            "])),(n()(),t._32(3,0,null,null,1,"ion-icon",[["name","warning"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._31(4,147456,null,0,Fn.a,[un.a,t.t,t.W],{name:[0,"name"]},null),(n()(),t._56(5,null,[" ","\n        "])),t._49(6,{$a:0}),t._48(131072,Mn.a,[cn.a,t.j])],function(n,l){n(l,4,0,"warning")},function(n,l){var o=l.component;n(l,3,0,t._45(l,4)._hidden);n(l,5,0,t._57(l,5,0,t._45(l,7).transform("core.hasdatatosync",n(l,6,0,o.discussionStr))))})}function View_AddonModForumDiscussionPage_5(n){return t._58(0,[(n()(),t._32(0,0,null,null,5,"ion-card",[["class","core-info-card"],["icon-start",""]],null,null,null,null,null)),t._31(1,16384,null,0,Dn.a,[un.a,t.t,t.W],null,null),(n()(),t._56(-1,null,["\n            "])),(n()(),t._32(3,0,null,null,1,"ion-icon",[["name","information-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._31(4,147456,null,0,Fn.a,[un.a,t.t,t.W],{name:[0,"name"]},null),(n()(),t._56(5,null,[" ","\n        "]))],function(n,l){n(l,4,0,"information-circle")},function(n,l){var o=l.component;n(l,3,0,t._45(l,4)._hidden);n(l,5,0,o.availabilityMessage)})}function View_AddonModForumDiscussionPage_6(n){return t._58(0,[(n()(),t._32(0,0,null,null,6,"ion-card",[["class","core-info-card"],["icon-start",""]],null,null,null,null,null)),t._31(1,16384,null,0,Dn.a,[un.a,t.t,t.W],null,null),(n()(),t._56(-1,null,["\n            "])),(n()(),t._32(3,0,null,null,1,"core-icon",[["name","fa-lock"]],null,null,null,kn.b,kn.a)),t._31(4,704512,null,0,Vn.a,[t.t,un.a],{name:[0,"name"]},null),(n()(),t._56(5,null,[" ","\n        "])),t._48(131072,Mn.a,[cn.a,t.j])],function(n,l){n(l,4,0,"fa-lock")},function(n,l){n(l,5,0,t._57(l,5,0,t._45(l,6).transform("addon.mod_forum.discussionlocked")))})}function View_AddonModForumDiscussionPage_7(n){return t._58(0,[(n()(),t._32(0,0,null,null,4,"div",[["class","highlight"],["margin-bottom",""]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n            "])),(n()(),t._32(2,0,null,null,1,"addon-mod-forum-post",[],null,[[null,"onPostChange"]],function(n,l,o){var t=!0;if("onPostChange"===l){t=!1!==n.component.postListChanged()&&t}return t},View_AddonModForumPostComponent_0,Al)),t._31(3,770048,null,0,Pl.a,[p.b,yl.a,m.b,rn.b,cn.a,P.a,C.a,y.a,w.a,Cl.a,[2,hn.a],wl.a,Xn.a,d.b,_.b],{post:[0,"post"],courseId:[1,"courseId"],discussionId:[2,"discussionId"],discussion:[3,"discussion"],component:[4,"component"],componentId:[5,"componentId"],replyData:[6,"replyData"],originalData:[7,"originalData"],trackPosts:[8,"trackPosts"],forum:[9,"forum"],accessInfo:[10,"accessInfo"],ratingInfo:[11,"ratingInfo"],leavingPage:[12,"leavingPage"]},{onPostChange:"onPostChange"}),(n()(),t._56(-1,null,["\n        "]))],function(n,l){var o=l.component;n(l,3,1,[o.startingPost,o.courseId,o.discussionId,o.discussion,o.component,o.cmId,o.replyData,o.originalData,o.trackPosts,o.forum,o.accessInfo,o.ratingInfo,o.leavingPage])},null)}function View_AddonModForumDiscussionPage_10(n){return t._58(0,[(n()(),t._32(0,0,null,null,5,"ion-item-divider",[["class","item item-divider"]],null,null,null,Nn.b,Nn.a)),t._31(1,1097728,null,3,Hn.a,[qn.a,un.a,t.t,t.W,[2,$n.a]],null,null),t._53(335544320,4,{contentLabel:0}),t._53(603979776,5,{_buttons:1}),t._53(603979776,6,{_icons:1}),t._31(5,16384,null,0,il.a,[un.a,t.t,t.W],null,null)],null,null)}function View_AddonModForumDiscussionPage_9(n){return t._58(0,[(n()(),t._32(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),t._56(-1,null,["\n                "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumDiscussionPage_10)),t._31(3,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n                "])),(n()(),t._32(5,0,null,null,1,"addon-mod-forum-post",[],null,[[null,"onPostChange"]],function(n,l,o){var t=!0;if("onPostChange"===l){t=!1!==n.component.postListChanged()&&t}return t},View_AddonModForumPostComponent_0,Al)),t._31(6,770048,null,0,Pl.a,[p.b,yl.a,m.b,rn.b,cn.a,P.a,C.a,y.a,w.a,Cl.a,[2,hn.a],wl.a,Xn.a,d.b,_.b],{post:[0,"post"],courseId:[1,"courseId"],discussionId:[2,"discussionId"],component:[3,"component"],componentId:[4,"componentId"],replyData:[5,"replyData"],originalData:[6,"originalData"],trackPosts:[7,"trackPosts"],forum:[8,"forum"],accessInfo:[9,"accessInfo"],parentSubject:[10,"parentSubject"],ratingInfo:[11,"ratingInfo"],leavingPage:[12,"leavingPage"]},{onPostChange:"onPostChange"}),(n()(),t._56(-1,null,["\n            "]))],function(n,l){var o=l.component;n(l,3,0,!l.context.first);n(l,6,1,[l.context.$implicit,o.courseId,o.discussionId,o.component,o.cmId,o.replyData,o.originalData,o.trackPosts,o.forum,o.accessInfo,o.postSubjects[l.context.$implicit.parentid],o.ratingInfo,o.leavingPage])},null)}function View_AddonModForumDiscussionPage_8(n){return t._58(0,[(n()(),t._32(0,0,null,null,5,"ion-card",[],null,null,null,null,null)),t._31(1,16384,null,0,Dn.a,[un.a,t.t,t.W],null,null),(n()(),t._56(-1,null,["\n            "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumDiscussionPage_9)),t._31(4,802816,null,0,jn.j,[t._12,t._7,t.E],{ngForOf:[0,"ngForOf"]},null),(n()(),t._56(-1,null,["\n        "]))],function(n,l){n(l,4,0,l.component.posts)},null)}function View_AddonModForumDiscussionPage_13(n){return t._58(0,[(n()(),t._32(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function View_AddonModForumDiscussionPage_12(n){return t._58(0,[(n()(),t._32(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),t._56(-1,null,["\n                "])),(n()(),t._27(16777216,null,null,2,null,View_AddonModForumDiscussionPage_13)),t._31(3,540672,null,0,jn.r,[t._12],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t._49(4,{post:0}),(n()(),t._56(-1,null,["\n            "]))],function(n,l){n(l,3,0,n(l,4,0,l.context.$implicit),t._45(l.parent.parent,104))},null)}function View_AddonModForumDiscussionPage_11(n){return t._58(0,[(n()(),t._32(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t._56(-1,null,["\n            "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumDiscussionPage_12)),t._31(3,802816,null,0,jn.j,[t._12,t._7,t.E],{ngForOf:[0,"ngForOf"]},null),(n()(),t._56(-1,null,["\n        "]))],function(n,l){n(l,3,0,l.component.posts)},null)}function View_AddonModForumDiscussionPage_17(n){return t._58(0,[(n()(),t._32(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function View_AddonModForumDiscussionPage_16(n){return t._58(0,[(n()(),t._32(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),t._56(-1,null,["\n                    "])),(n()(),t._27(16777216,null,null,2,null,View_AddonModForumDiscussionPage_17)),t._31(3,540672,null,0,jn.r,[t._12],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t._49(4,{post:0}),(n()(),t._56(-1,null,["\n                "]))],function(n,l){n(l,3,0,n(l,4,0,l.context.$implicit),t._45(l.parent.parent.parent,104))},null)}function View_AddonModForumDiscussionPage_15(n){return t._58(0,[(n()(),t._32(0,0,null,null,4,"div",[["padding-left",""]],null,null,null,null,null)),(n()(),t._56(-1,null,["\n                "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumDiscussionPage_16)),t._31(3,802816,null,0,jn.j,[t._12,t._7,t.E],{ngForOf:[0,"ngForOf"]},null),(n()(),t._56(-1,null,["\n            "]))],function(n,l){n(l,3,0,l.parent.context.post.children)},null)}function View_AddonModForumDiscussionPage_14(n){return t._58(0,[(n()(),t._56(-1,null,["\n            "])),(n()(),t._32(1,0,null,null,5,"ion-card",[],null,null,null,null,null)),t._31(2,16384,null,0,Dn.a,[un.a,t.t,t.W],null,null),(n()(),t._56(-1,null,["\n                "])),(n()(),t._32(4,0,null,null,1,"addon-mod-forum-post",[],null,[[null,"onPostChange"]],function(n,l,o){var t=!0;if("onPostChange"===l){t=!1!==n.component.postListChanged()&&t}return t},View_AddonModForumPostComponent_0,Al)),t._31(5,770048,null,0,Pl.a,[p.b,yl.a,m.b,rn.b,cn.a,P.a,C.a,y.a,w.a,Cl.a,[2,hn.a],wl.a,Xn.a,d.b,_.b],{post:[0,"post"],courseId:[1,"courseId"],discussionId:[2,"discussionId"],component:[3,"component"],componentId:[4,"componentId"],replyData:[5,"replyData"],originalData:[6,"originalData"],trackPosts:[7,"trackPosts"],forum:[8,"forum"],accessInfo:[9,"accessInfo"],parentSubject:[10,"parentSubject"],ratingInfo:[11,"ratingInfo"],leavingPage:[12,"leavingPage"]},{onPostChange:"onPostChange"}),(n()(),t._56(-1,null,["\n            "])),(n()(),t._56(-1,null,["\n            "])),(n()(),t._27(16777216,null,null,1,null,View_AddonModForumDiscussionPage_15)),t._31(9,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n        "]))],function(n,l){var o=l.component;n(l,5,1,[l.context.post,o.courseId,o.discussionId,o.component,o.cmId,o.replyData,o.originalData,o.trackPosts,o.forum,o.accessInfo,o.postSubjects[l.context.post.parentid],o.ratingInfo,o.leavingPage]);n(l,9,0,l.context.post.children.length&&l.context.post.children[0].subject)},null)}function View_AddonModForumDiscussionPage_0(n){return t._58(0,[t._53(402653184,1,{content:0}),(n()(),t._32(1,0,null,null,16,"ion-header",[],null,null,null,null,null)),t._31(2,16384,null,0,Ml.a,[un.a,t.t,t.W,[2,Dl.a]],null,null),(n()(),t._56(-1,null,["\n    "])),(n()(),t._32(4,0,null,null,12,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Fl.b,Fl.a)),t._31(5,49152,null,0,an.a,[rl.a,[2,Dl.a],[2,gn.a],un.a,t.t,t.W],null,null),t._31(6,212992,null,0,kl.a,[an.a,cn.a,d.b],null,null),(n()(),t._56(-1,3,["\n        "])),(n()(),t._27(16777216,null,3,1,null,View_AddonModForumDiscussionPage_1)),t._31(9,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,3,["\n        "])),(n()(),t._32(11,0,null,2,4,"ion-buttons",[["end",""]],null,null,null,null,null)),t._31(12,16384,null,1,Vl.a,[un.a,t.t,t.W,[2,en.a],[2,an.a]],null,null),t._53(603979776,2,{_buttons:1}),(n()(),t._56(-1,null,["\n            "])),(n()(),t._56(-1,null,["\n        "])),(n()(),t._56(-1,3,["\n    "])),(n()(),t._56(-1,null,["\n"])),(n()(),t._56(-1,null,["\n"])),(n()(),t._32(19,0,null,null,49,"core-navbar-buttons",[["end",""]],null,null,null,xl.b,xl.a)),t._31(20,245760,null,1,Sl.a,[t.t,mn.b,m.b],null,null),t._53(603979776,3,{buttons:1}),(n()(),t._56(-1,0,["\n    "])),(n()(),t._32(23,0,null,0,44,"core-context-menu",[],null,null,null,Ol.b,Ol.a)),t._31(24,245760,null,0,An.a,[cn.a,wl.a,t.t,m.b,[2,jl.a],f.b],null,null),(n()(),t._56(-1,0,["\n        "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumDiscussionPage_2)),t._31(27,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,0,["\n        "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumDiscussionPage_3)),t._31(30,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(32,0,null,0,2,"core-context-menu-item",[["iconAction","arrow-round-down"]],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.changeSort("flat-oldest")&&t}return t},Cn.b,Cn.a)),t._31(33,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],priority:[2,"priority"],hidden:[3,"hidden"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(36,0,null,0,2,"core-context-menu-item",[["iconAction","arrow-round-up"]],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.changeSort("flat-newest")&&t}return t},Cn.b,Cn.a)),t._31(37,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],priority:[2,"priority"],hidden:[3,"hidden"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(40,0,null,0,2,"core-context-menu-item",[["iconAction","swap"]],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.changeSort("nested")&&t}return t},Cn.b,Cn.a)),t._31(41,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],priority:[2,"priority"],hidden:[3,"hidden"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(44,0,null,0,2,"core-context-menu-item",[["iconAction","fa-lock"]],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.setLockState(!0)&&t}return t},Cn.b,Cn.a)),t._31(45,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],priority:[2,"priority"],hidden:[3,"hidden"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(48,0,null,0,2,"core-context-menu-item",[["iconAction","fa-unlock"]],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.setLockState(!1)&&t}return t},Cn.b,Cn.a)),t._31(49,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],priority:[2,"priority"],hidden:[3,"hidden"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(52,0,null,0,2,"core-context-menu-item",[["iconAction","fa-map-pin"]],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.setPinState(!0)&&t}return t},Cn.b,Cn.a)),t._31(53,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],priority:[2,"priority"],hidden:[3,"hidden"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(56,0,null,0,2,"core-context-menu-item",[["iconAction","fa-map-pin"]],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.setPinState(!1)&&t}return t},Cn.b,Cn.a)),t._31(57,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],iconSlash:[2,"iconSlash"],priority:[3,"priority"],hidden:[4,"hidden"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(60,0,null,0,2,"core-context-menu-item",[["iconAction","fa-star"]],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.toggleFavouriteState(!0)&&t}return t},Cn.b,Cn.a)),t._31(61,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],priority:[2,"priority"],hidden:[3,"hidden"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n        "])),(n()(),t._32(64,0,null,0,2,"core-context-menu-item",[["iconAction","fa-star"]],null,[[null,"action"]],function(n,l,o){var t=!0;if("action"===l){t=!1!==n.component.toggleFavouriteState(!1)&&t}return t},Cn.b,Cn.a)),t._31(65,770048,null,0,wn.a,[An.a],{content:[0,"content"],iconAction:[1,"iconAction"],iconSlash:[2,"iconSlash"],priority:[3,"priority"],hidden:[4,"hidden"]},{action:"action"}),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,0,["\n    "])),(n()(),t._56(-1,0,["\n"])),(n()(),t._56(-1,null,["\n"])),(n()(),t._32(70,0,null,null,36,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Ll.b,Ll.a)),t._31(71,4374528,[[1,4]],0,hn.a,[un.a,dn.a,cl.a,t.t,t.W,rl.a,El.a,t.N,[2,Dl.a],[2,gn.a]],null,null),(n()(),t._56(-1,1,["\n    "])),(n()(),t._32(73,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,o){var t=!0;if("ionRefresh"===l){t=!1!==n.component.doRefresh(o)&&t}return t},null,null)),t._31(74,212992,null,0,Rl.a,[dn.a,hn.a,t.N,Ul.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),t._56(-1,null,["\n        "])),(n()(),t._32(76,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Tl.b,Tl.a)),t._31(77,114688,null,0,Wl.a,[Rl.a,un.a],{pullingText:[0,"pullingText"]},null),t._48(131072,Mn.a,[cn.a,t.j]),(n()(),t._56(-1,null,["\n    "])),(n()(),t._56(-1,1,["\n\n    "])),(n()(),t._32(81,0,null,1,24,"core-loading",[],null,null,null,Nl.b,Nl.a)),t._31(82,638976,null,0,Hl.a,[cn.a,t.t,d.b,f.b],{hideUntil:[0,"hideUntil"]},null),(n()(),t._56(-1,0,["\n        "])),(n()(),t._56(-1,0,["\n        "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumDiscussionPage_4)),t._31(86,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,0,["\n\n        "])),(n()(),t._56(-1,0,["\n        "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumDiscussionPage_5)),t._31(90,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,0,["\n\n        "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumDiscussionPage_6)),t._31(93,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,0,["\n\n        "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumDiscussionPage_7)),t._31(96,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,0,["\n\n        "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumDiscussionPage_8)),t._31(99,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,0,["\n\n        "])),(n()(),t._27(16777216,null,0,1,null,View_AddonModForumDiscussionPage_11)),t._31(102,16384,null,0,jn.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,0,["\n\n        "])),(n()(),t._27(0,[["nestedPosts",2]],0,0,null,View_AddonModForumDiscussionPage_14)),(n()(),t._56(-1,0,["\n    "])),(n()(),t._56(-1,1,["\n"])),(n()(),t._56(-1,null,["\n"]))],function(n,l){var o=l.component;n(l,6,0);n(l,9,0,o.startingPost),n(l,20,0),n(l,24,0);n(l,27,0,o.discussionLoaded&&!o.postHasOffline&&o.isOnline);n(l,30,0,o.discussionLoaded&&!o.isSplitViewOn&&o.postHasOffline&&o.isOnline);n(l,33,0,t._57(l,33,0,t._45(l,34).transform("addon.mod_forum.modeflatoldestfirst")),"arrow-round-down",500,"flat-oldest"==o.sort);n(l,37,0,t._57(l,37,0,t._45(l,38).transform("addon.mod_forum.modeflatnewestfirst")),"arrow-round-up",450,"flat-newest"==o.sort);n(l,41,0,t._57(l,41,0,t._45(l,42).transform("addon.mod_forum.modenested")),"swap",400,"nested"==o.sort);n(l,45,0,t._57(l,45,0,t._45(l,46).transform("addon.mod_forum.lockdiscussion")),"fa-lock",300,!o.discussion||!o.discussion.canlock||o.discussion.locked);n(l,49,0,t._57(l,49,0,t._45(l,50).transform("addon.mod_forum.unlockdiscussion")),"fa-unlock",300,!o.discussion||!o.discussion.canlock||!o.discussion.locked);n(l,53,0,t._57(l,53,0,t._45(l,54).transform("addon.mod_forum.pindiscussion")),"fa-map-pin",250,!o.discussion||!o.canPin||o.discussion.pinned);n(l,57,0,t._57(l,57,0,t._45(l,58).transform("addon.mod_forum.unpindiscussion")),"fa-map-pin",!0,250,!o.discussion||!o.canPin||!o.discussion.pinned);n(l,61,0,t._57(l,61,0,t._45(l,62).transform("addon.mod_forum.addtofavourites")),"fa-star",200,!o.discussion||!o.discussion.canfavourite||o.discussion.starred);n(l,65,0,t._57(l,65,0,t._45(l,66).transform("addon.mod_forum.removefromfavourites")),"fa-star",!0,200,!o.discussion||!o.discussion.canfavourite||!o.discussion.starred);n(l,74,0,o.discussionLoaded);n(l,77,0,t._35(1,"",t._57(l,77,0,t._45(l,78).transform("core.pulltorefresh")),""));n(l,82,0,o.discussionLoaded);n(l,86,0,o.postHasOffline||o.hasOfflineRatings);n(l,90,0,o.availabilityMessage);n(l,93,0,o.discussion&&o.discussion.locked);n(l,96,0,o.startingPost);n(l,99,0,"nested"!=o.sort);n(l,102,0,"nested"==o.sort)},function(n,l){n(l,4,0,t._45(l,5)._hidden,t._45(l,5)._sbPadding);n(l,70,0,t._45(l,71).statusbarPadding,t._45(l,71)._hasRefresher);n(l,73,0,"inactive"!==t._45(l,74).state,t._45(l,74)._top);n(l,76,0,t._45(l,77).r.state)})}Object.defineProperty(l,"__esModule",{value:!0});var t=o(0),u=o(5),e=o(3),i=o(26),a=o(32),s=o(753),r=o(167),c=o(12),d=o(9),_=o(1),m=o(4),f=o(2),p=o(70),g=o(46),h=o(29),I=o(235),b=o(206),v=o(241),P=o(138),y=o(237),C=o(289),w=o(259),A=this&&this.__decorate||function(n,l,o,t){var u,e=arguments.length,i=e<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,o):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,l,o,t);else for(var a=n.length-1;a>=0;a--)(u=n[a])&&(i=(e<3?u(i):e>3?u(l,o,i):u(l,o))||i);return e>3&&i&&Object.defineProperty(l,o,i),i},M=this&&this.__metadata||function(n,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,l)},D=this&&this.__param||function(n,l){return function(o,t){l(o,t,n)}},F=this&&this.__awaiter||function(n,l,o,t){return new(o||(o=Promise))(function(u,e){function fulfilled(n){try{step(t.next(n))}catch(n){e(n)}}function rejected(n){try{step(t.throw(n))}catch(n){e(n)}}function step(n){n.done?u(n.value):new o(function(l){l(n.value)}).then(fulfilled,rejected)}step((t=t.apply(n,l||[])).next())})},k=this&&this.__generator||function(n,l){function verb(e){return function(a){return function step(e){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,t&&(u=t[2&e[0]?"return":e[0]?"throw":"next"])&&!(u=u.call(t,e[1])).done)return u;switch(t=0,u&&(e=[0,u.value]),e[0]){case 0:case 1:u=e;break;case 4:return i.label++,{value:e[1],done:!1};case 5:i.label++,t=e[1],e=[0];continue;case 7:e=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(6===e[0]||2===e[0])){i=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){i.label=e[1];break}if(6===e[0]&&i.label<u[1]){i.label=u[1],u=e;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(e);break}u[2]&&i.ops.pop(),i.trys.pop();continue}e=l.call(n,i)}catch(n){e=[6,n],t=0}finally{o=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,a])}}var o,t,u,e,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return e={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e},V=function(){function AddonModForumDiscussionPage(n,l,o,t,u,e,i,a,s,r,c,d,_,m,f,p,g,h){var I=this;this.appProvider=t,this.eventsProvider=u,this.sitesProvider=e,this.domUtils=i,this.utils=a,this.translate=s,this.uploaderProvider=r,this.forumProvider=c,this.forumOffline=d,this.forumHelper=_,this.forumSync=m,this.ratingOffline=f,this.userProvider=p,this.svComponent=g,this.navCtrl=h,this.forum={},this.accessInfo={},this.discussionLoaded=!1,this.sort="nested",this.replyData={replyingTo:0,isEditing:!1,subject:"",message:null,files:[],isprivatereply:!1},this.originalData={subject:null,message:null,files:[],isprivatereply:!1},this.refreshIcon="spinner",this.syncIcon="spinner",this.discussionStr="",this.component=P.a.COMPONENT,this.canPin=!1,this.leavingPage=!1,this.courseId=n.get("courseId"),this.cmId=n.get("cmId"),this.forumId=n.get("forumId"),this.discussion=n.get("discussion"),this.discussionId=this.discussion?this.discussion.discussion:n.get("discussionId"),this.trackPosts=n.get("trackPosts"),this.postId=n.get("postId"),this.parent=n.get("parent"),this.isOnline=this.appProvider.isOnline(),this.onlineObserver=l.onchange().subscribe(function(){o.run(function(){I.isOnline=I.appProvider.isOnline()})}),this.isSplitViewOn=this.svComponent&&this.svComponent.isOn(),this.discussionStr=s.instant("addon.mod_forum.discussion")}return AddonModForumDiscussionPage.prototype.ionViewDidLoad=function(){return F(this,void 0,void 0,function(){var n,l,o=this;return k(this,function(t){switch(t.label){case 0:return this.parent?(this.sort="nested",[3,3]):[3,1];case 1:return n=this,[4,this.getUserSort()];case 2:n.sort=t.sent(),t.label=3;case 3:return[4,this.fetchPosts(!0,!1,!0)];case 4:return t.sent(),(l=this.postId||this.parent)&&setTimeout(function(){o.domUtils.scrollToElementBySelector(o.content,"#addon-mod_forum-post-"+l)}),[2]}})})},AddonModForumDiscussionPage.prototype.getUserSort=function(){return F(this,void 0,void 0,function(){var n;return k(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,7]),[4,this.sitesProvider.getCurrentSite().getLocalSiteConfig("AddonModForumDiscussionSort")];case 1:return n=l.sent(),[2,n];case 2:l.sent(),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,this.userProvider.getUserPreference("forum_displaymode")];case 4:switch(n=l.sent(),Number(n)){case 1:return[2,"flat-oldest"];case-1:return[2,"flat-newest"];case 3:return[2,"nested"]}return[3,6];case 5:return l.sent(),[3,6];case 6:return[3,7];case 7:return[2,"flat-oldest"]}})})},AddonModForumDiscussionPage.prototype.ionViewDidEnter=function(){var n=this;this.syncObserver||(this.syncObserver=this.eventsProvider.on(w.a.AUTO_SYNCED,function(l){l.forumId==n.forumId&&n.discussionId==l.discussionId&&l.userId==n.sitesProvider.getCurrentSiteUserId()&&(n.discussionLoaded=!1,n.refreshPosts())},this.sitesProvider.getCurrentSiteId()),this.syncManualObserver=this.eventsProvider.on(w.a.MANUAL_SYNCED,function(l){"discussion"!=l.source&&l.forumId==n.forumId&&l.userId==n.sitesProvider.getCurrentSiteUserId()&&(n.discussionLoaded=!1,n.refreshPosts())},this.sitesProvider.getCurrentSiteId()),this.eventsProvider.trigger(P.a.VIEW_DISCUSSION_EVENT,{forumId:this.forumId,discussion:this.discussionId},this.sitesProvider.getCurrentSiteId()),this.ratingOfflineObserver=this.eventsProvider.on(I.a.RATING_SAVED_EVENT,function(l){"mod_forum"==l.component&&"post"==l.ratingArea&&"module"==l.contextLevel&&l.instanceId==n.cmId&&l.itemSetId==n.discussionId&&(n.hasOfflineRatings=!0)}),this.ratingSyncObserver=this.eventsProvider.on(v.a.SYNCED_EVENT,function(l){"mod_forum"==l.component&&"post"==l.ratingArea&&"module"==l.contextLevel&&l.instanceId==n.cmId&&l.itemSetId==n.discussionId&&(n.hasOfflineRatings=!1)}),this.changeDiscObserver=this.eventsProvider.on(P.a.CHANGE_DISCUSSION_EVENT,function(l){(n.forumId&&n.forumId===l.forumId||l.cmId===n.cmId)&&n.forumProvider.invalidateDiscussionsList(n.forumId).finally(function(){void 0!==l.locked&&(n.discussion.locked=l.locked),void 0!==l.pinned&&(n.discussion.pinned=l.pinned),void 0!==l.starred&&(n.discussion.starred=l.starred),void 0!==l.deleted&&l.deleted&&(l.post.parentid?(n.discussionLoaded=!1,n.refreshPosts()):n.svComponent&&n.svComponent.isOn()?n.svComponent.emptyDetails():n.navCtrl.pop())})}))},AddonModForumDiscussionPage.prototype.ionViewCanLeave=function(){return F(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:return this.forumHelper.hasPostDataChanged(this.replyData,this.originalData)?[4,this.domUtils.showConfirm(this.translate.instant("core.confirmcanceledit"))]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.uploaderProvider.clearTmpFiles(this.replyData.files),this.leavingPage=!0,[2]}})})},AddonModForumDiscussionPage.prototype.fetchForum=function(){return this.courseId&&this.cmId?this.forumProvider.getForum(this.courseId,this.cmId):this.courseId&&this.forumId?this.forumProvider.getForumById(this.courseId,this.forumId):Promise.reject(null)},AddonModForumDiscussionPage.prototype.fetchPosts=function(n,l,o){var t,u=this,e=[],i=[],a=!1;return(n?this.syncDiscussion(l).catch(function(){}):Promise.resolve()).then(function(){return u.forumProvider.getDiscussionPosts(u.discussionId,{cmId:u.cmId}).then(function(n){e=n.posts,t=n.ratinginfo,u.courseId=n.courseid||u.courseId,u.forumId=n.forumid||u.forumId}).then(function(){return u.forumOffline.getDiscussionReplies(u.discussionId).then(function(n){u.postHasOffline=!!n.length;var l=[],o={};return e.forEach(function(n){o[n.id]=n,a=a||!!n.unread}),n.forEach(function(n){u.forumId||(u.forumId=n.forumid),u.courseId||(u.courseId=n.courseid),l.push(u.forumHelper.convertOfflineReplyToOnline(n).then(function(n){i.push(n),o[n.parentid].capabilities.reply=!1}))}),Promise.all(l).then(function(){e=u.utils.objectToArray(o)})})})}).then(function(){var n=i.concat(e);if(u.startingPost=u.forumProvider.extractStartingPost(n),"nested"==u.sort){u.forumProvider.sortDiscussionPosts(n,"ASC");n=u.utils.formatTree(n,"parentid","id",u.startingPost?u.startingPost.id:u.discussion?u.discussion.id:0)}else{u.forumProvider.sortDiscussionPosts(n,"flat-newest"==u.sort?"DESC":"ASC")}return u.fetchForum().then(function(l){void 0!==l.istracked&&(u.trackPosts=l.istracked),u.forumId=l.id,u.cmId=l.cmid,u.courseId=l.course,u.forum=l,u.availabilityMessage=u.forumHelper.getAvailabilityMessage(l);var o=[];return o.push(u.forumProvider.getAccessInformation(u.forumId,{cmId:u.cmId}).then(function(o){u.accessInfo=o,u.forumHelper.isCutoffDateReached(l)&&!o.cancanoverridecutoff&&n.forEach(function(n){n.capabilities.reply=!1})})),u.discussion||o.push(u.loadDiscussion(u.forumId,u.cmId,u.discussionId)),Promise.all(o)}).catch(function(){}).then(function(){if(!u.discussion&&!u.startingPost)return Promise.reject("Invalid forum discussion.");u.startingPost.author&&"single"==u.forum.type&&(u.startingPost.author.fullname=null,u.startingPost.author.groups=null),u.posts=n,u.ratingInfo=t,u.postSubjects=u.getAllPosts().reduce(function(n,l){return n[l.id]=l.subject,n},(l={},l[u.startingPost.id]=u.startingPost.subject,l));var l})}).then(function(){if(u.forumProvider.isSetPinStateAvailableForSite())return u.forumProvider.canAddDiscussionToAll(u.forumId,{cmId:u.cmId}).then(function(n){u.canPin=!!n.canpindiscussions}).catch(function(){u.canPin=!1});u.canPin=!1}).then(function(){return u.ratingOffline.hasRatings("mod_forum","post","module",u.cmId,u.discussionId).then(function(n){u.hasOfflineRatings=n})}).catch(function(n){u.domUtils.showErrorModal(n)}).finally(function(){u.discussionLoaded=!0,u.refreshIcon="refresh",u.syncIcon="sync",(o||a&&u.trackPosts)&&u.forumProvider.logDiscussionView(u.discussionId,u.forumId||-1,u.forum.name).catch(function(){}).finally(function(){u.eventsProvider.trigger(P.a.MARK_READ_EVENT,{courseId:u.courseId,moduleId:u.cmId},u.sitesProvider.getCurrentSiteId())})})},AddonModForumDiscussionPage.prototype.loadDiscussion=function(n,l,o){var t=this;return!this.discussion&&n?this.forumHelper.getDiscussionById(n,l,o).then(function(n){t.discussion=n,t.discussionId=t.discussion.discussion}).catch(function(){}):Promise.resolve()},AddonModForumDiscussionPage.prototype.syncDiscussion=function(n){var l=this,o=[];return o.push(this.forumSync.syncDiscussionReplies(this.discussionId).then(function(n){return n.warnings&&n.warnings.length&&l.domUtils.showErrorModal(n.warnings[0]),n&&n.updated&&l.eventsProvider.trigger(w.a.MANUAL_SYNCED,{forumId:l.forumId,userId:l.sitesProvider.getCurrentSiteUserId(),source:"discussion"},l.sitesProvider.getCurrentSiteId()),n.updated})),o.push(this.forumSync.syncRatings(this.cmId,this.discussionId).then(function(n){n.warnings&&n.warnings.length&&l.domUtils.showErrorModal(n.warnings[0])})),Promise.all(o).catch(function(o){return n&&l.domUtils.showErrorModalDefault(o,"core.errorsync",!0),Promise.reject(null)})},AddonModForumDiscussionPage.prototype.doRefresh=function(n,l,o){return void 0===o&&(o=!1),this.discussionLoaded?this.refreshPosts(!0,o).finally(function(){n&&n.complete(),l&&l()}):Promise.resolve()},AddonModForumDiscussionPage.prototype.refreshPosts=function(n,l){var o=this;this.domUtils.scrollToTop(this.content),this.refreshIcon="spinner",this.syncIcon="spinner";var t=[this.forumProvider.invalidateForumData(this.courseId),this.forumProvider.invalidateDiscussionPosts(this.discussionId,this.forumId),this.forumProvider.invalidateAccessInformation(this.forumId),this.forumProvider.invalidateCanAddDiscussion(this.forumId)];return this.utils.allPromises(t).catch(function(){}).then(function(){return o.fetchPosts(n,l)})},AddonModForumDiscussionPage.prototype.changeSort=function(n){return this.discussionLoaded=!1,this.sort=n,this.sitesProvider.getCurrentSite().setLocalSiteConfig("AddonModForumDiscussionSort",this.sort),this.domUtils.scrollToTop(this.content),this.fetchPosts()},AddonModForumDiscussionPage.prototype.setLockState=function(n){var l=this,o=this.domUtils.showModalLoading("core.sending",!0);this.forumProvider.setLockState(this.forumId,this.discussionId,n).then(function(n){l.discussion.locked=n.locked;l.eventsProvider.trigger(P.a.CHANGE_DISCUSSION_EVENT,{forumId:l.forumId,discussionId:l.discussionId,cmId:l.cmId,locked:l.discussion.locked},l.sitesProvider.getCurrentSiteId()),l.domUtils.showToast("addon.mod_forum.lockupdated",!0)}).catch(function(n){l.domUtils.showErrorModal(n)}).finally(function(){o.dismiss()})},AddonModForumDiscussionPage.prototype.setPinState=function(n){var l=this,o=this.domUtils.showModalLoading("core.sending",!0);this.forumProvider.setPinState(this.discussionId,n).then(function(){l.discussion.pinned=n;l.eventsProvider.trigger(P.a.CHANGE_DISCUSSION_EVENT,{forumId:l.forumId,discussionId:l.discussionId,cmId:l.cmId,pinned:l.discussion.pinned},l.sitesProvider.getCurrentSiteId()),l.domUtils.showToast("addon.mod_forum.pinupdated",!0)}).catch(function(n){l.domUtils.showErrorModal(n)}).finally(function(){o.dismiss()})},AddonModForumDiscussionPage.prototype.toggleFavouriteState=function(n){var l=this,o=this.domUtils.showModalLoading("core.sending",!0);this.forumProvider.toggleFavouriteState(this.discussionId,n).then(function(){l.discussion.starred=n;l.eventsProvider.trigger(P.a.CHANGE_DISCUSSION_EVENT,{forumId:l.forumId,discussionId:l.discussionId,cmId:l.cmId,starred:l.discussion.starred},l.sitesProvider.getCurrentSiteId()),l.domUtils.showToast("addon.mod_forum.favouriteupdated",!0)}).catch(function(n){l.domUtils.showErrorModal(n)}).finally(function(){o.dismiss()})},AddonModForumDiscussionPage.prototype.postListChanged=function(){var n=this;this.eventsProvider.trigger(P.a.REPLY_DISCUSSION_EVENT,{forumId:this.forumId,discussionId:this.discussionId,cmId:this.cmId},this.sitesProvider.getCurrentSiteId()),this.discussionLoaded=!1,this.refreshPosts().finally(function(){n.discussionLoaded=!0})},AddonModForumDiscussionPage.prototype.ionViewWillLeave=function(){this.syncObserver&&this.syncObserver.off(),this.syncManualObserver&&this.syncManualObserver.off(),this.ratingOfflineObserver&&this.ratingOfflineObserver.off(),this.ratingSyncObserver&&this.ratingSyncObserver.off(),this.changeDiscObserver&&this.changeDiscObserver.off(),delete this.syncObserver},AddonModForumDiscussionPage.prototype.ngOnDestroy=function(){this.onlineObserver&&this.onlineObserver.unsubscribe()},AddonModForumDiscussionPage.prototype.getAllPosts=function(){return[].concat.apply([],this.posts.map(this.flattenPostHierarchy.bind(this)))},AddonModForumDiscussionPage.prototype.flattenPostHierarchy=function(n){for(var l=[n],o=0,t=n.children||[];o<t.length;o++){l.push.apply(l,this.flattenPostHierarchy(t[o]))}return l},A([Object(t._10)(u.f),M("design:type",u.f)],AddonModForumDiscussionPage.prototype,"content",void 0),AddonModForumDiscussionPage=A([Object(t.m)({selector:"page-addon-mod-forum-discussion",templateUrl:"discussion.html"}),D(16,Object(t.O)()),M("design:paramtypes",[u.t,r.a,t.N,c.b,d.b,_.b,m.b,f.b,e.c,p.b,P.a,y.a,C.a,w.a,b.a,g.b,h.a,u.s])],AddonModForumDiscussionPage)}(),x=this&&this.__decorate||function(n,l,o,t){var u,e=arguments.length,i=e<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,o):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,l,o,t);else for(var a=n.length-1;a>=0;a--)(u=n[a])&&(i=(e<3?u(i):e>3?u(l,o,i):u(l,o))||i);return e>3&&i&&Object.defineProperty(l,o,i),i},S=function(){function AddonModForumDiscussionPageModule(){}return AddonModForumDiscussionPageModule=x([Object(t.J)({declarations:[V],imports:[i.a,a.a,s.a,u.l.forChild(V),e.b.forChild()]})],AddonModForumDiscussionPageModule)}(),O=o(1551),j=o(1552),L=o(1553),E=o(1554),R=o(1555),U=o(1556),T=o(1557),W=o(1558),N=o(1559),H=o(1560),q=o(1561),$=o(1562),G=o(1563),Y=o(1566),z=o(1567),B=o(1564),K=o(1565),J=o(1568),Q=o(1569),X=o(279),Z=o(1596),nn=o(1604),ln=o(1605),on=o(740),tn=o(324),un=o(8),en=o(252),an=o(216),sn=o(49),rn=o(10),cn=o(18),dn=o(16),_n=o(19),mn=o(6),fn=o(17),pn=o(14),gn=o(20),hn=o(28),In=o(42),bn=o(43),vn=o(30),Pn=o(36),yn=o(40),Cn=o(94),wn=o(86),An=o(81),Mn=o(25),Dn=o(79),Fn=o(48),kn=o(85),Vn=o(78),xn=o(253),Sn=o(47),On=o(44),jn=o(7),Ln=o(218),En=o(164),Rn=o(186),Un=o(414),Tn=o(304),Wn=o(65),Nn=o(31),Hn=o(22),qn=o(21),$n=o(27),Gn=o(33),Yn=o(504),zn=o(332),Bn=o(2166),Kn=o(1576),Jn=o(2167),Qn=o(1575),Xn=o(166),Zn=o(69),nl=o(255),ll=o(204),ol=o(23),tl=o(384),ul=o(290),el=o(145),il=o(103),al=o(115),sl=o(95),rl=o(35),cl=o(34),dl=o(254),_l=o(219),ml=o(180),fl=o(155),pl=o(120),gl=o(119),hl=o(231),Il=o(24),bl=o(327),vl=o(497),Pl=o(1619),yl=o(82),Cl=o(168),wl=o(72),Al=t._30({encapsulation:2,styles:[],data:{}}),Ml=(t._28("addon-mod-forum-post",Pl.a,function View_AddonModForumPostComponent_Host_0(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"addon-mod-forum-post",[],null,null,null,View_AddonModForumPostComponent_0,Al)),t._31(1,770048,null,0,Pl.a,[p.b,yl.a,m.b,rn.b,cn.a,P.a,C.a,y.a,w.a,Cl.a,[2,hn.a],wl.a,Xn.a,d.b,_.b],null,null)],function(n,l){n(l,1,0)},null)},{post:"post",courseId:"courseId",discussionId:"discussionId",discussion:"discussion",component:"component",componentId:"componentId",replyData:"replyData",originalData:"originalData",trackPosts:"trackPosts",forum:"forum",accessInfo:"accessInfo",parentSubject:"parentSubject",ratingInfo:"ratingInfo",leavingPage:"leavingPage"},{onPostChange:"onPostChange"},[]),o(379)),Dl=o(41),Fl=o(739),kl=o(486),Vl=o(380),xl=o(96),Sl=o(88),Ol=o(93),jl=o(80),Ll=o(185),El=o(112),Rl=o(163),Ul=o(45),Tl=o(217),Wl=o(178),Nl=o(57),Hl=o(54),ql=o(73),$l=t._30({encapsulation:2,styles:[],data:{}}),Gl=t._28("page-addon-mod-forum-discussion",V,function View_AddonModForumDiscussionPage_Host_0(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"page-addon-mod-forum-discussion",[],null,null,null,View_AddonModForumDiscussionPage_0,$l)),t._31(1,180224,null,0,V,[ql.a,r.a,t.N,c.b,d.b,_.b,m.b,f.b,cn.a,p.b,P.a,y.a,C.a,w.a,b.a,g.b,[2,h.a],gn.a],null,null)],null,null)},{},{},[]),Yl=o(375),zl=o(376),Bl=o(378),Kl=o(377),Jl=o(485),Ql=o(738),Xl=o(111),Zl=o(278),no=o(74),lo=o(749),oo=o(282),to=o(202),uo=o(277);o.d(l,"AddonModForumDiscussionPageModuleNgFactory",function(){return eo});var eo=t._29(S,[],function(n){return t._41([t._42(512,t.o,t._22,[[8,[O.a,j.a,L.a,E.a,R.a,U.a,T.a,W.a,N.a,H.a,q.a,$.a,G.a,Y.a,z.a,B.a,K.a,J.a,Q.a,X.a,Z.a,nn.a,ln.a,Gl]],[3,t.o],t.L]),t._42(4608,jn.m,jn.l,[t.G,[2,jn.w]]),t._42(4608,ol.x,ol.x,[]),t._42(4608,ol.d,ol.d,[]),t._42(4608,Yl.b,Yl.a,[]),t._42(4608,zl.a,zl.b,[]),t._42(4608,Bl.b,Bl.a,[]),t._42(4608,Kl.b,Kl.a,[]),t._42(4608,cn.a,cn.a,[Jl.a,Yl.b,zl.a,Bl.b,Kl.b,cn.b,cn.c]),t._42(512,jn.b,jn.b,[]),t._42(512,ol.v,ol.v,[]),t._42(512,ol.i,ol.i,[]),t._42(512,ol.s,ol.s,[]),t._42(512,Ql.a,Ql.a,[]),t._42(512,e.b,e.b,[]),t._42(512,a.a,a.a,[]),t._42(512,Xl.a,Xl.a,[]),t._42(512,i.a,i.a,[]),t._42(512,Zl.a,Zl.a,[]),t._42(512,no.a,no.a,[]),t._42(512,lo.a,lo.a,[]),t._42(512,oo.a,oo.a,[]),t._42(512,to.a,to.a,[]),t._42(512,s.a,s.a,[]),t._42(512,Ql.b,Ql.b,[]),t._42(512,S,S,[]),t._42(256,cn.c,void 0,[]),t._42(256,cn.b,void 0,[]),t._42(256,uo.a,V,[])])})},2166:function(n,l,o){"use strict";function View_CoreRatingRateComponent_2(n){return t._58(0,[(n()(),t._32(0,0,null,null,2,"ion-option",[],null,null,null,null,null)),t._31(1,16384,[[4,4]],0,u.a,[t.t],{value:[0,"value"]},null),(n()(),t._56(2,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit.value)},function(n,l){n(l,2,0,l.context.$implicit.name)})}function View_CoreRatingRateComponent_1(n){return t._58(0,[(n()(),t._32(0,0,null,null,23,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,e.b,e.a)),t._31(1,1097728,null,3,i.a,[a.a,s.a,t.t,t.W,[2,r.a]],null,null),t._53(335544320,1,{contentLabel:0}),t._53(603979776,2,{_buttons:1}),t._53(603979776,3,{_icons:1}),t._31(5,16384,null,0,c.a,[],null,null),(n()(),t._56(-1,2,["\n    "])),(n()(),t._32(7,0,null,1,3,"ion-label",[],null,null,null,null,null)),t._31(8,16384,[[1,4]],0,d.a,[s.a,t.t,t.W,[8,null],[8,null],[8,null],[8,null]],null,null),(n()(),t._56(9,null,["",""])),t._48(131072,_.a,[m.a,t.j]),(n()(),t._56(-1,2,["\n    "])),(n()(),t._32(12,0,null,3,10,"ion-select",[["interface","action-sheet"],["text-start",""]],[[2,"select-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keyup.space"]],function(n,l,o){var u=!0,e=n.component;if("click"===l){u=!1!==t._45(n,13)._click(o)&&u}if("keyup.space"===l){u=!1!==t._45(n,13)._keyup()&&u}if("ngModelChange"===l){u=!1!==(e.rating=o)&&u}if("ngModelChange"===l){u=!1!==e.userRatingChanged()&&u}return u},f.b,f.a)),t._31(13,1228800,null,1,p.a,[g.a,a.a,s.a,t.t,t.W,[2,i.a],h.a],{disabled:[0,"disabled"],interface:[1,"interface"]},null),t._53(603979776,4,{options:1}),t._51(1024,null,I.l,function(n){return[n]},[p.a]),t._31(16,671744,null,0,I.q,[[8,null],[8,null],[8,null],[2,I.l]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t._51(2048,null,I.m,null,[I.q]),t._31(18,16384,null,0,I.n,[I.m],null,null),(n()(),t._56(-1,null,["\n        "])),(n()(),t._27(16777216,null,null,1,null,View_CoreRatingRateComponent_2)),t._31(21,802816,null,0,b.j,[t._12,t._7,t.E],{ngForOf:[0,"ngForOf"]},null),(n()(),t._56(-1,null,["\n    "])),(n()(),t._56(-1,2,["\n"]))],function(n,l){var o=l.component;n(l,13,0,!o.item.canrate,"action-sheet");n(l,16,0,!o.item.canrate,o.rating);n(l,21,0,o.scale.items)},function(n,l){n(l,9,0,t._57(l,9,0,t._45(l,10).transform("core.rating.rating")));n(l,12,0,t._45(l,13)._disabled,t._45(l,18).ngClassUntouched,t._45(l,18).ngClassTouched,t._45(l,18).ngClassPristine,t._45(l,18).ngClassDirty,t._45(l,18).ngClassValid,t._45(l,18).ngClassInvalid,t._45(l,18).ngClassPending)})}function View_CoreRatingRateComponent_0(n){return t._58(0,[(n()(),t._27(16777216,null,null,1,null,View_CoreRatingRateComponent_1)),t._31(1,16384,null,0,b.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n"]))],function(n,l){var o=l.component;n(l,1,0,o.item&&(o.item.canrate||null!=o.item.rating)&&!o.disabled)},null)}o.d(l,"a",function(){return M}),l.b=View_CoreRatingRateComponent_0;var t=o(0),u=o(113),e=o(31),i=o(22),a=o(21),s=o(8),r=o(27),c=o(33),d=o(69),_=o(25),m=o(18),f=o(127),p=o(114),g=o(35),h=o(62),I=o(23),b=o(7),v=o(1576),P=o(4),y=o(9),C=o(235),w=o(206),A=o(1),M=t._30({encapsulation:2,styles:[],data:{}});t._28("core-rating-rate",v.a,function View_CoreRatingRateComponent_Host_0(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"core-rating-rate",[],null,null,null,View_CoreRatingRateComponent_0,M)),t._31(1,704512,null,0,v.a,[P.b,m.a,y.b,C.a,w.a,A.b],null,null)],null,null)},{ratingInfo:"ratingInfo",contextLevel:"contextLevel",instanceId:"instanceId",itemId:"itemId",itemSetId:"itemSetId",courseId:"courseId",aggregateMethod:"aggregateMethod",scaleId:"scaleId",userId:"userId"},{onLoading:"onLoading",onUpdate:"onUpdate"},[])},2167:function(n,l,o){"use strict";function View_CoreRatingAggregateComponent_2(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t._56(1,null,["(",")"]))],null,function(n,l){n(l,1,0,l.component.item.count)})}function View_CoreRatingAggregateComponent_1(n){return t._58(0,[(n()(),t._32(0,0,null,null,11,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[1,"detail-none",0]],[[null,"click"]],function(n,l,o){var t=!0;if("click"===l){t=!1!==n.component.openRatings()&&t}return t},u.b,u.a)),t._31(1,1097728,null,3,e.a,[i.a,a.a,t.t,t.W,[2,s.a]],null,null),t._53(335544320,1,{contentLabel:0}),t._53(603979776,2,{_buttons:1}),t._53(603979776,3,{_icons:1}),t._31(5,16384,null,0,r.a,[],null,null),(n()(),t._56(6,2,["\n    ",""," ","\n    "])),t._48(131072,c.a,[d.a,t.j]),t._48(131072,c.a,[d.a,t.j]),(n()(),t._27(16777216,null,2,1,null,View_CoreRatingAggregateComponent_2)),t._31(10,16384,null,0,_.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,2,["\n"]))],function(n,l){var o=l.component;n(l,10,0,o.showCount&&o.item.count>0)},function(n,l){var o=l.component;n(l,0,0,!o.ratingInfo.canviewall||!o.item.count||null);n(l,6,0,t._57(l,6,0,t._45(l,7).transform(o.labelKey)),t._57(l,6,1,t._45(l,8).transform("core.labelsep")),o.item.aggregatestr||"-")})}function View_CoreRatingAggregateComponent_0(n){return t._58(0,[(n()(),t._27(16777216,null,null,1,null,View_CoreRatingAggregateComponent_1)),t._31(1,16384,null,0,_.k,[t._12,t._7],{ngIf:[0,"ngIf"]},null),(n()(),t._56(-1,null,["\n"]))],function(n,l){var o=l.component;n(l,1,0,o.item&&o.item.canviewaggregate&&o.labelKey&&!o.disabled)},null)}o.d(l,"a",function(){return I}),l.b=View_CoreRatingAggregateComponent_0;var t=o(0),u=o(31),e=o(22),i=o(21),a=o(8),s=o(27),r=o(33),c=o(25),d=o(18),_=o(7),m=o(1575),f=o(9),p=o(166),g=o(235),h=o(1),I=t._30({encapsulation:2,styles:[],data:{}});t._28("core-rating-aggregate",m.a,function View_CoreRatingAggregateComponent_Host_0(n){return t._58(0,[(n()(),t._32(0,0,null,null,1,"core-rating-aggregate",[],null,null,null,View_CoreRatingAggregateComponent_0,I)),t._31(1,704512,null,0,m.a,[f.b,p.a,g.a,h.b],null,null)],null,null)},{ratingInfo:"ratingInfo",contextLevel:"contextLevel",instanceId:"instanceId",itemId:"itemId",aggregateMethod:"aggregateMethod",scaleId:"scaleId",courseId:"courseId"},{},[])}});